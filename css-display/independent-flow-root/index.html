<!doctype html><html lang="en">
 <head>
  <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
  <title>CSS Display Module Level 3</title>
  <meta content="width=device-width, initial-scale=1, shrink-to-fit=no" name="viewport">
  <meta content="exploring" name="csswg-work-status">
  <meta content="UD" name="w3c-status">
  <meta content="This module describes how the CSS formatting box tree is generated from the document element tree and defines the &apos;display&apos; property that controls it." name="abstract">
  <link href="../default.css" rel="stylesheet" type="text/css">
  <link href="../csslogo.ico" rel="shortcut icon" type="image/x-icon">
  <link href="https://www.w3.org/StyleSheets/TR/2016/W3C-UD" rel="stylesheet" type="text/css">
  <meta content="Bikeshed version 19325e1a3d427dec9961fd38c89c65a206603f18" name="generator">
  <link href="https://www.w3.org/TR/css-display-3/" rel="canonical">
<style>
		#display-value-summary td,
		#display-value-summary th { text-align: left; }
	</style>
<style>/* style-md-lists */

            /* This is a weird hack for me not yet following the commonmark spec
               regarding paragraph and lists. */
            [data-md] > :first-child {
                margin-top: 0;
            }
            [data-md] > :last-child {
                margin-bottom: 0;
            }</style>
<style>/* style-selflinks */

            .heading, .issue, .note, .example, li, dt {
                position: relative;
            }
            a.self-link {
                position: absolute;
                top: 0;
                left: calc(-1 * (3.5rem - 26px));
                width: calc(3.5rem - 26px);
                height: 2em;
                text-align: center;
                border: none;
                transition: opacity .2s;
                opacity: .5;
            }
            a.self-link:hover {
                opacity: 1;
            }
            .heading > a.self-link {
                font-size: 83%;
            }
            li > a.self-link {
                left: calc(-1 * (3.5rem - 26px) - 2em);
            }
            dfn > a.self-link {
                top: auto;
                left: auto;
                opacity: 0;
                width: 1.5em;
                height: 1.5em;
                background: gray;
                color: white;
                font-style: normal;
                transition: opacity .2s, background-color .2s, color .2s;
            }
            dfn:hover > a.self-link {
                opacity: 1;
            }
            dfn > a.self-link:hover {
                color: black;
            }

            a.self-link::before            { content: "¶"; }
            .heading > a.self-link::before { content: "§"; }
            dfn > a.self-link::before      { content: "#"; }</style>
<style>/* style-counters */

            body {
                counter-reset: example figure issue;
            }
            .issue {
                counter-increment: issue;
            }
            .issue:not(.no-marker)::before {
                content: "Issue " counter(issue);
            }

            .example {
                counter-increment: example;
            }
            .example:not(.no-marker)::before {
                content: "Example " counter(example);
            }
            .invalid.example:not(.no-marker)::before,
            .illegal.example:not(.no-marker)::before {
                content: "Invalid Example" counter(example);
            }

            figcaption {
                counter-increment: figure;
            }
            figcaption:not(.no-marker)::before {
                content: "Figure " counter(figure) " ";
            }</style>
<style>/* style-autolinks */

            .css.css, .property.property, .descriptor.descriptor {
                color: #005a9c;
                font-size: inherit;
                font-family: inherit;
            }
            .css::before, .property::before, .descriptor::before {
                content: "‘";
            }
            .css::after, .property::after, .descriptor::after {
                content: "’";
            }
            .property, .descriptor {
                /* Don't wrap property and descriptor names */
                white-space: nowrap;
            }
            .type { /* CSS value <type> */
                font-style: italic;
            }
            pre .property::before, pre .property::after {
                content: "";
            }
            [data-link-type="property"]::before,
            [data-link-type="propdesc"]::before,
            [data-link-type="descriptor"]::before,
            [data-link-type="value"]::before,
            [data-link-type="function"]::before,
            [data-link-type="at-rule"]::before,
            [data-link-type="selector"]::before,
            [data-link-type="maybe"]::before {
                content: "‘";
            }
            [data-link-type="property"]::after,
            [data-link-type="propdesc"]::after,
            [data-link-type="descriptor"]::after,
            [data-link-type="value"]::after,
            [data-link-type="function"]::after,
            [data-link-type="at-rule"]::after,
            [data-link-type="selector"]::after,
            [data-link-type="maybe"]::after {
                content: "’";
            }

            [data-link-type].production::before,
            [data-link-type].production::after,
            .prod [data-link-type]::before,
            .prod [data-link-type]::after {
                content: "";
            }

            [data-link-type=element],
            [data-link-type=element-attr] {
                font-family: Menlo, Consolas, "DejaVu Sans Mono", monospace;
                font-size: .9em;
            }
            [data-link-type=element]::before { content: "<" }
            [data-link-type=element]::after  { content: ">" }

            [data-link-type=biblio] {
                white-space: pre;
            }</style>
<style>/* style-dfn-panel */

        .dfn-panel {
            position: absolute;
            z-index: 35;
            height: auto;
            width: -webkit-fit-content;
            width: fit-content;
            max-width: 300px;
            max-height: 500px;
            overflow: auto;
            padding: 0.5em 0.75em;
            font: small Helvetica Neue, sans-serif, Droid Sans Fallback;
            background: #DDDDDD;
            color: black;
            border: outset 0.2em;
        }
        .dfn-panel:not(.on) { display: none; }
        .dfn-panel * { margin: 0; padding: 0; text-indent: 0; }
        .dfn-panel > b { display: block; }
        .dfn-panel a { color: black; }
        .dfn-panel a:not(:hover) { text-decoration: none !important; border-bottom: none !important; }
        .dfn-panel > b + b { margin-top: 0.25em; }
        .dfn-panel ul { padding: 0; }
        .dfn-panel li { list-style: inside; }
        .dfn-panel.activated {
            display: inline-block;
            position: fixed;
            left: .5em;
            bottom: 2em;
            margin: 0 auto;
            max-width: calc(100vw - 1.5em - .4em - .5em);
            max-height: 30vh;
        }

        .dfn-paneled { cursor: pointer; }
        </style>
<style>/* style-syntax-highlighting */

        .highlight:not(.idl) { background: hsl(24, 20%, 95%); }
        code.highlight { padding: .1em; border-radius: .3em; }
        pre.highlight, pre > code.highlight { display: block; padding: 1em; margin: .5em 0; overflow: auto; border-radius: 0; }
        .highlight .c { color: #708090 } /* Comment */
        .highlight .k { color: #990055 } /* Keyword */
        .highlight .l { color: #000000 } /* Literal */
        .highlight .n { color: #0077aa } /* Name */
        .highlight .o { color: #999999 } /* Operator */
        .highlight .p { color: #999999 } /* Punctuation */
        .highlight .cm { color: #708090 } /* Comment.Multiline */
        .highlight .cp { color: #708090 } /* Comment.Preproc */
        .highlight .c1 { color: #708090 } /* Comment.Single */
        .highlight .cs { color: #708090 } /* Comment.Special */
        .highlight .kc { color: #990055 } /* Keyword.Constant */
        .highlight .kd { color: #990055 } /* Keyword.Declaration */
        .highlight .kn { color: #990055 } /* Keyword.Namespace */
        .highlight .kp { color: #990055 } /* Keyword.Pseudo */
        .highlight .kr { color: #990055 } /* Keyword.Reserved */
        .highlight .kt { color: #990055 } /* Keyword.Type */
        .highlight .ld { color: #000000 } /* Literal.Date */
        .highlight .m { color: #000000 } /* Literal.Number */
        .highlight .s { color: #a67f59 } /* Literal.String */
        .highlight .na { color: #0077aa } /* Name.Attribute */
        .highlight .nc { color: #0077aa } /* Name.Class */
        .highlight .no { color: #0077aa } /* Name.Constant */
        .highlight .nd { color: #0077aa } /* Name.Decorator */
        .highlight .ni { color: #0077aa } /* Name.Entity */
        .highlight .ne { color: #0077aa } /* Name.Exception */
        .highlight .nf { color: #0077aa } /* Name.Function */
        .highlight .nl { color: #0077aa } /* Name.Label */
        .highlight .nn { color: #0077aa } /* Name.Namespace */
        .highlight .py { color: #0077aa } /* Name.Property */
        .highlight .nt { color: #669900 } /* Name.Tag */
        .highlight .nv { color: #222222 } /* Name.Variable */
        .highlight .ow { color: #999999 } /* Operator.Word */
        .highlight .mb { color: #000000 } /* Literal.Number.Bin */
        .highlight .mf { color: #000000 } /* Literal.Number.Float */
        .highlight .mh { color: #000000 } /* Literal.Number.Hex */
        .highlight .mi { color: #000000 } /* Literal.Number.Integer */
        .highlight .mo { color: #000000 } /* Literal.Number.Oct */
        .highlight .sb { color: #a67f59 } /* Literal.String.Backtick */
        .highlight .sc { color: #a67f59 } /* Literal.String.Char */
        .highlight .sd { color: #a67f59 } /* Literal.String.Doc */
        .highlight .s2 { color: #a67f59 } /* Literal.String.Double */
        .highlight .se { color: #a67f59 } /* Literal.String.Escape */
        .highlight .sh { color: #a67f59 } /* Literal.String.Heredoc */
        .highlight .si { color: #a67f59 } /* Literal.String.Interpol */
        .highlight .sx { color: #a67f59 } /* Literal.String.Other */
        .highlight .sr { color: #a67f59 } /* Literal.String.Regex */
        .highlight .s1 { color: #a67f59 } /* Literal.String.Single */
        .highlight .ss { color: #a67f59 } /* Literal.String.Symbol */
        .highlight .vc { color: #0077aa } /* Name.Variable.Class */
        .highlight .vg { color: #0077aa } /* Name.Variable.Global */
        .highlight .vi { color: #0077aa } /* Name.Variable.Instance */
        .highlight .il { color: #000000 } /* Literal.Number.Integer.Long */
        </style>
 <body class="h-entry">
  <div class="head">
   <p data-fill-with="logo"><a class="logo" href="https://www.w3.org/"> <img alt="W3C" height="48" src="https://www.w3.org/StyleSheets/TR/2016/logos/W3C" width="72"> </a> </p>
   <h1>CSS Display Module Level 3</h1>
   <h2 class="no-num no-toc no-ref heading settled" id="subtitle"><span class="content">Unofficial Proposal Draft, <time class="dt-updated" datetime="2017-06-02">2 June 2017</time></span></h2>
   <div data-fill-with="spec-metadata">
    <dl>
     <dt>This version:
     <dd><a class="u-url" href="https://drafts.csswg.org/css-display/">https://drafts.csswg.org/css-display/</a>
     <dt>Latest published version:
     <dd><a href="https://www.w3.org/TR/css-display-3/">https://www.w3.org/TR/css-display-3/</a>
     <dt>Previous Versions:
     <dd><a href="https://www.w3.org/TR/2015/WD-css-display-3-20151015/" rel="prev">https://www.w3.org/TR/2015/WD-css-display-3-20151015/</a>
     <dd><a href="https://www.w3.org/TR/2015/WD-css-display-3-20150721/" rel="prev">https://www.w3.org/TR/2015/WD-css-display-3-20150721/</a>
     <dd><a href="https://www.w3.org/TR/2014/WD-css-display-3-20140911/" rel="prev">https://www.w3.org/TR/2014/WD-css-display-3-20140911/</a>
     <dt>Issue Tracking:
     <dd><a href="#issues-index">Inline In Spec</a>
     <dd><span><a href="https://github.com/w3c/csswg-drafts/labels/css-display-3">GitHub Issues</a></span>
     <dt class="editor">Editors:
     <dd class="editor p-author h-card vcard"><a class="p-name fn u-url url" href="http://xanthir.com/contact/">Tab Atkins Jr.</a> (<span class="p-org org">Google</span>)
     <dd class="editor p-author h-card vcard" data-editor-id="35400"><a class="p-name fn u-url url" href="http://fantasai.inkedblade.net/contact">Elika J. Etemad / fantasai</a> (<span class="p-org org">Invited Expert</span>)
    </dl>
   </div>
   <div data-fill-with="warning"></div>
   <p class="copyright" data-fill-with="copyright"><a href="http://www.w3.org/Consortium/Legal/ipr-notice#Copyright">Copyright</a> © 2017 <a href="http://www.w3.org/"><abbr title="World Wide Web Consortium">W3C</abbr></a><sup>®</sup> (<a href="http://www.csail.mit.edu/"><abbr title="Massachusetts Institute of Technology">MIT</abbr></a>, <a href="http://www.ercim.eu/"><abbr title="European Research Consortium for Informatics and Mathematics">ERCIM</abbr></a>, <a href="http://www.keio.ac.jp/">Keio</a>, <a href="http://ev.buaa.edu.cn/">Beihang</a>). W3C <a href="http://www.w3.org/Consortium/Legal/ipr-notice#Legal_Disclaimer">liability</a>, <a href="http://www.w3.org/Consortium/Legal/ipr-notice#W3C_Trademarks">trademark</a> and <a href="http://www.w3.org/Consortium/Legal/copyright-documents">document use</a> rules apply. </p>
   <hr title="Separator for header">
  </div>
  <div class="p-summary" data-fill-with="abstract">
   <h2 class="no-num no-toc no-ref heading settled" id="abstract"><span class="content">Abstract</span></h2>
   <p>This module describes how the CSS formatting box tree is generated from the document element tree and defines the <a class="property" data-link-type="propdesc" href="#propdef-display">display</a> property that controls it.</p>
    <a href="http://www.w3.org/TR/CSS/">CSS</a> is a language for describing the rendering of structured documents
(such as HTML and XML)
on screen, on paper, in speech, etc. 
  </div>
  <h2 class="no-num no-toc no-ref heading settled" id="status"><span class="content">Status of this document</span></h2>
  <div data-fill-with="status">
   <p></p>
  </div>
  <div data-fill-with="at-risk">
   <p>The following features are at-risk, and may be dropped during the CR period: </p>
   <ul>
    <li>Application of <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-pseudo-4/#selectordef-first-letter">::first-letter</a> in the presence of run-ins
    <li><a class="css" data-link-type="propdesc" href="#propdef-display">display: run-in</a>
    <li>All multi-keyword values of <a class="property" data-link-type="propdesc" href="#propdef-display">display</a> and <a class="css" data-link-type="propdesc" href="#propdef-display">display: inline-list-item</a>
   </ul>
   <p>“At-risk” is a W3C Process term-of-art, and does not necessarily imply that the feature is in danger of being dropped or delayed. It means that the WG believes the feature may have difficulty being interoperably implemented in a timely manner, and marking it as such allows the WG to drop the feature if necessary when transitioning to the Proposed Rec stage, without having to publish a new Candidate Rec without the feature first.</p>
  </div>
  <nav data-fill-with="table-of-contents" id="toc">
   <h2 class="no-num no-toc no-ref" id="contents">Table of Contents</h2>
   <ol class="toc" role="directory">
    <li>
     <a href="#intro"><span class="secno">1</span> <span class="content"> Introduction</span></a>
     <ol class="toc">
      <li><a href="#placement"><span class="secno">1.1</span> <span class="content"> Module interactions</span></a>
      <li><a href="#values"><span class="secno">1.2</span> <span class="content"> Values</span></a>
     </ol>
    <li>
     <a href="#the-display-properties"><span class="secno">2</span> <span class="content"> Box Layout Modes: the <span class="property">display</span> property</span></a>
     <ol class="toc">
      <li><a href="#outer-role"><span class="secno">2.1</span> <span class="content"> Outer Display Roles for Flow Layout: the <span class="css">block-level</span>, <span class="css">inline-level</span>, and <span class="css">run-in</span> keywords</span></a>
      <li><a href="#inner-model"><span class="secno">2.2</span> <span class="content"> Inner Display Layout Models: the <span class="css">auto</span>, <span class="css">block</span>, <span class="css">table</span>, <span class="css">flex</span>, <span class="css">grid</span>, and <span class="css">ruby</span> keywords</span></a>
      <li><a href="#flow-root"><span class="secno">2.3</span> <span class="content"> Becoming a formatting context: the <span class="css">flow-root</span> keyword</span></a>
      <li><a href="#list-items"><span class="secno">2.4</span> <span class="content"> Generating Marker Boxes: the <span class="css">list-item</span> keyword</span></a>
      <li><a href="#layout-specific-display"><span class="secno">2.5</span> <span class="content"> Layout-Internal Display Types: the <span class="css">table-*</span> and <span class="css">ruby-*</span> keywords</span></a>
      <li><a href="#box-generation"><span class="secno">2.6</span> <span class="content"> Box Generation: the <span class="css">none</span> and <span class="css">contents</span> keywords</span></a>
      <li><a href="#legacy-display"><span class="secno">2.7</span> <span class="content"> Precomposed Inline-level Display Values</span></a>
      <li><a href="#transformations"><span class="secno">2.8</span> <span class="content"> Automatic Box Type Transformations</span></a>
     </ol>
    <li><a href="#run-in-layout"><span class="secno">3</span> <span class="content"> Run-In Layout</span></a>
    <li><a href="#glossary"><span class="secno"></span> <span class="content"> Appendix A: Glossary</span></a>
    <li>
     <a href="#unbox"><span class="secno"></span> <span class="content"> Appendix B: Effects of <span class="css">display: contents</span> on Unusual Elements</span></a>
     <ol class="toc">
      <li><a href="#unbox-html"><span class="secno"></span> <span class="content">HTML Elements</span></a>
      <li><a href="#unbox-svg"><span class="secno"></span> <span class="content">SVG Elements</span></a>
     </ol>
    <li><a href="#acknowledgments"><span class="secno"></span> <span class="content"> Acknowledgments</span></a>
    <li><a href="#changes"><span class="secno"></span> <span class="content"> Changes</span></a>
    <li><a href="#priv-sec"><span class="secno">4</span> <span class="content">Privacy and Security Considerations</span></a>
    <li>
     <a href="#conformance"><span class="secno"></span> <span class="content"> Conformance</span></a>
     <ol class="toc">
      <li><a href="#document-conventions"><span class="secno"></span> <span class="content"> Document conventions</span></a>
      <li><a href="#conform-classes"><span class="secno"></span> <span class="content"> Conformance classes</span></a>
      <li>
       <a href="#conform-responsible"><span class="secno"></span> <span class="content"> Requirements for Responsible Implementation of CSS</span></a>
       <ol class="toc">
        <li><a href="#conform-partial"><span class="secno"></span> <span class="content"> Partial Implementations</span></a>
        <li><a href="#conform-future-proofing"><span class="secno"></span> <span class="content"> Implementations of Unstable and Proprietary Features</span></a>
        <li><a href="#conform-testing"><span class="secno"></span> <span class="content"> Implementations of CR-level Features</span></a>
       </ol>
     </ol>
    <li>
     <a href="#index"><span class="secno"></span> <span class="content">Index</span></a>
     <ol class="toc">
      <li><a href="#index-defined-here"><span class="secno"></span> <span class="content">Terms defined by this specification</span></a>
      <li><a href="#index-defined-elsewhere"><span class="secno"></span> <span class="content">Terms defined by reference</span></a>
     </ol>
    <li>
     <a href="#references"><span class="secno"></span> <span class="content">References</span></a>
     <ol class="toc">
      <li><a href="#normative"><span class="secno"></span> <span class="content">Normative References</span></a>
      <li><a href="#informative"><span class="secno"></span> <span class="content">Informative References</span></a>
     </ol>
    <li><a href="#property-index"><span class="secno"></span> <span class="content">Property Index</span></a>
    <li><a href="#issues-index"><span class="secno"></span> <span class="content">Issues Index</span></a>
   </ol>
  </nav>
  <main>
   <h2 class="heading settled" data-level="1" id="intro"><span class="secno">1. </span><span class="content"> Introduction</span><a class="self-link" href="#intro"></a></h2>
   <p><em>This section is normative.</em> </p>
   <p>CSS takes a source document, organized as a tree of <dfn class="dfn-paneled" data-dfn-type="dfn" data-lt="element|element tree" data-noexport="" id="element">elements</dfn>,
	and renders it onto a <a href="https://www.w3.org/TR/CSS2/intro.html#canvas">canvas</a> (such as your screen, a piece of paper, or an audio stream).
	To do this, it generates an intermediary structure,
	the <dfn class="dfn-paneled" data-dfn-type="dfn" data-export="" id="box-tree">box tree</dfn>,
	which represents the formatting structure of the rendered document.
	Each <dfn class="dfn-paneled" data-dfn-type="dfn" data-export="" id="box">box</dfn> represents its corresponding <a data-link-type="dfn" href="#element" id="ref-for-element-1">element</a> (or <a data-link-type="dfn" href="https://drafts.csswg.org/selectors-4/#pseudo-element">pseudo-element</a>)
	in space and/or time on the canvas.</p>
   <p>To create the <a data-link-type="dfn" href="#box-tree" id="ref-for-box-tree-1">box tree</a>,
	CSS first uses <a href="https://www.w3.org/TR/css-cascade/">cascading and inheritance</a>,
	to assign a <a data-link-type="dfn" href="https://drafts.csswg.org/css-cascade-4/#computed-value">computed value</a> for each CSS property
	to each element in the source tree.
	(See <a data-link-type="biblio" href="#biblio-css3-cascade">[CSS3-CASCADE]</a>.)</p>
   <p>Then, for each element, it generates zero or more boxes
	as specified by that element’s <a class="property" data-link-type="propdesc" href="#propdef-display" id="ref-for-propdef-display-1">display</a> property.
	Typically, an element generates a single <a data-link-type="dfn" href="#box" id="ref-for-box-1">box</a>.
	However, some <a class="property" data-link-type="propdesc" href="#propdef-display" id="ref-for-propdef-display-2">display</a> values
	(e.g. <a class="css" data-link-type="propdesc" href="#propdef-display" id="ref-for-propdef-display-3">display: list-item</a>)
	generate more than one box
	(e.g. a <a href="https://www.w3.org/TR/CSS2/visuren.html#principal-box">principal block box</a> and a <a href="https://www.w3.org/TR/CSS2/generate.html#lists">marker box</a>).
	And some values
	(such as <a class="css" data-link-type="maybe" href="#valdef-display-none" id="ref-for-valdef-display-none-1">none</a> or <a class="css" data-link-type="maybe" href="#valdef-display-contents" id="ref-for-valdef-display-contents-1">contents</a>)
	cause the <a data-link-type="dfn" href="#element" id="ref-for-element-2">element</a> and/or its descendants to not generate any <a data-link-type="dfn" href="#box" id="ref-for-box-2">boxes</a> at all. <a data-link-type="dfn" href="#box" id="ref-for-box-3">Boxes</a> are assigned the same styles as their generating <a data-link-type="dfn" href="#element" id="ref-for-element-3">element</a>, unless otherwise indicated.
	They’re often referred to by their <a class="property" data-link-type="propdesc" href="#propdef-display" id="ref-for-propdef-display-4">display</a> type—<wbr>e.g. a <a data-link-type="dfn" href="#box" id="ref-for-box-4">box</a> generated by an element with <a class="css" data-link-type="propdesc" href="#propdef-display" id="ref-for-propdef-display-5">display: block</a> is called a “block box” or just a “block”.</p>
   <p>An <dfn class="dfn-paneled" data-dfn-type="dfn" data-export="" data-lt="anonymous|anonymous box" id="anonymous">anonymous box</dfn> is is a box that is not associated with any element. <a data-link-type="dfn" href="#anonymous" id="ref-for-anonymous-1">Anonymous boxes</a> are generated in certain circumstances
	to fix up the <a data-link-type="dfn" href="#box-tree" id="ref-for-box-tree-2">box tree</a> when it requires a particular nested structure
	that is not provided by the boxes generated from the <a data-link-type="dfn" href="#element" id="ref-for-element-4">element tree</a>.
	For example, a <a href="https://www.w3.org/TR/CSS2/tables.html#table-display">table cell box</a> requires a particular type of parent box (the <a href="https://www.w3.org/TR/CSS2/tables.html#table-display">table row box</a>),
	and will generate an <a data-link-type="dfn" href="#anonymous" id="ref-for-anonymous-2">anonymous</a> <a href="https://www.w3.org/TR/CSS2/tables.html#table-display">table row box</a> around itself
	if its parent is not a <a href="https://www.w3.org/TR/CSS2/tables.html#table-display">table row box</a>.
	(See <a data-link-type="biblio" href="#biblio-css2">[CSS2]</a> § <a href="https://www.w3.org/TR/CSS2/tables.html#anonymous-boxes">17.2.1</a>.)
	Unlike element-generated boxes, whose styles inherit strictly through the element tree,
	anonymous boxes (which only exist in the <a data-link-type="dfn" href="#box-tree" id="ref-for-box-tree-3">box tree</a>) <a href="https://www.w3.org/TR/css-cascade/#inheriting">inherit</a> through their <a data-link-type="dfn" href="#box-tree" id="ref-for-box-tree-4">box tree</a> parentage.</p>
   <p>In the course of layout,
	a <a data-link-type="dfn" href="#box" id="ref-for-box-5">box</a> may be broken into multiple <a data-link-type="dfn" href="https://drafts.csswg.org/css-break-3/#fragment">fragments</a>.
	This happens, for example, when an inline box is broken across lines,
	or when a block box is broken across pages or columns.
	A <a data-link-type="dfn" href="#box" id="ref-for-box-6">box</a> therefore consists of one or more <a data-link-type="dfn" href="https://drafts.csswg.org/css-break-3/#box-fragment">box fragments</a>.
	See <a data-link-type="biblio" href="#biblio-css3-break">[CSS3-BREAK]</a> for more information on <a data-link-type="dfn" href="https://drafts.csswg.org/css-break-3/#fragmentation">fragmentation</a>.</p>
   <p class="note" role="note"><span>Note:</span> Many of the CSS specs were written before this terminology was ironed out,
	or refer to things incorrectly,
	so view older specs with caution when they’re using these terms.
	It should be possible to infer from context which term they really mean.
	Please <a href="#status">report errors</a> in specs when you find them,
	so they can be corrected.</p>
   <p class="note" role="note"><span>Note:</span> Further information on the “aural” box tree
	and its interaction with the <a class="property" data-link-type="propdesc" href="#propdef-display" id="ref-for-propdef-display-6">display</a> property
	can be found in the <a href="https://www.w3.org/TR/css3-speech/#aural-model">CSS Speech Module</a>. <a data-link-type="biblio" href="#biblio-css3-speech">[CSS3-SPEECH]</a></p>
   <h3 class="heading settled" data-level="1.1" id="placement"><span class="secno">1.1. </span><span class="content"> Module interactions</span><a class="self-link" href="#placement"></a></h3>
   <p>This module replaces and extends the definition of the <a class="property" data-link-type="propdesc" href="#propdef-display" id="ref-for-propdef-display-7">display</a> property defined in <a data-link-type="biblio" href="#biblio-css2">[CSS2]</a> section 9.2.4.</p>
   <p>None of the properties in this module apply to the <code>::first-line</code> or <code>::first-letter</code> pseudo-elements.</p>
   <h3 class="heading settled" data-level="1.2" id="values"><span class="secno">1.2. </span><span class="content"> Values</span><a class="self-link" href="#values"></a></h3>
   <p>This specification follows the <a href="https://www.w3.org/TR/CSS2/about.html#property-defs">CSS property
	definition conventions</a> from <a data-link-type="biblio" href="#biblio-css2">[CSS2]</a>.</p>
   <p>In addition to the property-specific values listed in their definitions,
	all properties defined in this specification also accept the <a href="https://www.w3.org/TR/css3-values/#common-keywords">CSS-wide keywords</a> as their property value. For readability it has not been repeated explicitly.</p>
   <h2 class="heading settled" data-level="2" id="the-display-properties"><span class="secno">2. </span><span class="content"> Box Layout Modes: the <a class="property" data-link-type="propdesc" href="#propdef-display" id="ref-for-propdef-display-8">display</a> property</span><a class="self-link" href="#the-display-properties"></a></h2>
   <table class="def propdef" data-link-for-hint="display">
    <tbody>
     <tr>
      <th>Name:
      <td><dfn class="dfn-paneled css" data-dfn-type="property" data-export="" id="propdef-display">display</dfn>
     <tr class="value">
      <th>Value:
      <td class="prod"><a class="production css" data-link-type="type" href="#typedef-display-normal" id="ref-for-typedef-display-normal-1">&lt;display-normal></a> <a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#comb-one">|</a> <a class="production css" data-link-type="type" href="#typedef-display-listitem" id="ref-for-typedef-display-listitem-1">&lt;display-listitem></a> <a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#comb-one">|</a> <a class="production css" data-link-type="type" href="#typedef-display-internal" id="ref-for-typedef-display-internal-1" title="Expands to: table-row-group | ruby-base-container | table-header-group | table-footer-group | table-column | ruby-text-container | ruby-base | ruby-text | table-row | table-caption | table-cell | table-column-group">&lt;display-internal></a> <a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#comb-one">|</a> <a class="production css" data-link-type="type" href="#typedef-display-box" id="ref-for-typedef-display-box-1" title="Expands to: none | contents">&lt;display-box></a> <a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#comb-one">|</a> <a class="production css" data-link-type="type" href="#typedef-display-legacy" id="ref-for-typedef-display-legacy-1" title="Expands to: inline-table | inline-block | inline-grid | inline-list-item | inline | inline-flex">&lt;display-legacy></a>
     <tr>
      <th>Initial:
      <td>inline
     <tr>
      <th>Applies to:
      <td><a href="https://drafts.csswg.org/css-pseudo/#generated-content" title="Includes ::before and ::after pseudo-elements.">all elements</a>
     <tr>
      <th>Inherited:
      <td>no
     <tr>
      <th>Percentages:
      <td>n/a
     <tr>
      <th>Media:
      <td>all
     <tr>
      <th>Computed value:
      <td>see prose
     <tr>
      <th>Canonical order:
      <td>per grammar
     <tr>
      <th>Animatable:
      <td>no
   </table>
   <p>The <a class="property" data-link-type="propdesc" href="#propdef-display" id="ref-for-propdef-display-9">display</a> property defines box’s <dfn class="dfn-paneled" data-dfn-type="dfn" data-export="" id="display-type">display type</dfn>,
	which consists of the two basic qualities of how an element generates boxes:</p>
   <ul>
    <li data-md="">
     <p>the <dfn class="dfn-paneled" data-dfn-type="dfn" data-export="" data-local-lt="inner" id="inner-display-type">inner display type</dfn>,
which defines (if it is a <a href="https://www.w3.org/TR/CSS2/conform.html#replaced-element">non-replaced element</a>) the kind of <a data-link-type="dfn" href="#formatting-context" id="ref-for-formatting-context-1">formatting context</a> it generates,
dictating how its descendant boxes are laid out.
(The inner display of a <a href="https://www.w3.org/TR/CSS2/conform.html#replaced-element">replaced element</a> is outside the scope of CSS.)</p>
    <li data-md="">
     <p>the <dfn class="dfn-paneled" data-dfn-type="dfn" data-export="" data-local-lt="outer" id="outer-display-type">outer display type</dfn>,
which dictates how the box participates in its parent formatting context.</p>
   </ul>
   <p>Some <a class="property" data-link-type="propdesc" href="#propdef-display" id="ref-for-propdef-display-10">display</a> values have additional side-effects, such as:</p>
   <ul>
    <li data-md="">
     <p><a class="css" data-link-type="maybe" href="#valdef-display-flow-root" id="ref-for-valdef-display-flow-root-1">flow-root</a>, which makes the element <a data-link-type="dfn" href="#become-a-formatting-context" id="ref-for-become-a-formatting-context-1">become a formatting context</a>.</p>
    <li data-md="">
     <p><a class="css" data-link-type="maybe" href="#valdef-display-list-item" id="ref-for-valdef-display-list-item-1">list-item</a>, which also generates a <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-pseudo-4/#selectordef-marker">::marker</a> pseudo-element.</p>
    <li data-md="">
     <p><a class="css" data-link-type="maybe" href="#valdef-display-none" id="ref-for-valdef-display-none-2">none</a>, which causes the element’s entire subtree to be left out of the box tree.</p>
   </ul>
   <p>Values are defined as follows:</p>
<pre class="prod"><dfn class="dfn-paneled" data-dfn-type="type" data-export="" id="typedef-display-outside">&lt;display-outside></dfn>  = block-level <a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#comb-one">|</a> inline-level <a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#comb-one">|</a> run-in ;
<dfn class="dfn-paneled" data-dfn-type="type" data-export="" id="typedef-display-inside">&lt;display-inside></dfn>   = auto <a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#comb-one">|</a> block <a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#comb-one">|</a> table <a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#comb-one">|</a> flex <a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#comb-one">|</a> grid <a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#comb-one">|</a> ruby ;
<dfn class="dfn-paneled" data-dfn-type="type" data-export="" id="typedef-display-normal">&lt;display-normal></dfn>   = <a class="production" data-link-type="type" href="#typedef-display-outside" id="ref-for-typedef-display-outside-1" title="Expands to: run-in | block-level | inline-level">&lt;display-outside></a> <a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#comb-any">||</a> <a class="production" data-link-type="type" href="#typedef-display-inside" id="ref-for-typedef-display-inside-1" title="Expands to: flex | auto | grid | table | ruby | block">&lt;display-inside></a> <a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#comb-any">||</a> flow-root ;
<dfn class="dfn-paneled" data-dfn-type="type" data-export="" id="typedef-display-listitem">&lt;display-listitem></dfn> = list-item <a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#comb-all">&amp;&amp;</a> <a class="production" data-link-type="type" href="#typedef-display-outside" id="ref-for-typedef-display-outside-2" title="Expands to: run-in | block-level | inline-level">&lt;display-outside></a><a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#mult-opt">?</a> <a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#comb-all">&amp;&amp;</a> [ auto <a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#comb-one">|</a> block ]<a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#mult-opt">?</a> <a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#comb-all">&amp;&amp;</a> flow-root<a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#mult-opt">?</a> ;
<dfn class="dfn-paneled" data-dfn-type="type" data-export="" id="typedef-display-internal">&lt;display-internal></dfn> = table-row-group <a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#comb-one">|</a> table-header-group <a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#comb-one">|</a>
                     table-footer-group <a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#comb-one">|</a> table-row <a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#comb-one">|</a> table-cell <a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#comb-one">|</a>
                     table-column-group <a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#comb-one">|</a> table-column <a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#comb-one">|</a> table-caption <a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#comb-one">|</a>
                     ruby-base <a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#comb-one">|</a> ruby-text <a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#comb-one">|</a> ruby-base-container <a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#comb-one">|</a>
                     ruby-text-container ;
<dfn class="dfn-paneled" data-dfn-type="type" data-export="" id="typedef-display-box">&lt;display-box></dfn>      = contents <a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#comb-one">|</a> none ;
<dfn class="dfn-paneled" data-dfn-type="type" data-export="" id="typedef-display-legacy">&lt;display-legacy></dfn>   = inline <a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#comb-one">|</a> inline-block <a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#comb-one">|</a> inline-list-item <a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#comb-one">|</a>
                     inline-table <a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#comb-one">|</a> inline-flex <a data-link-type="grammar" href="https://drafts.csswg.org/css-values-4/#comb-one">|</a> inline-grid ;
</pre>
   <p>The computed value is obtained from the following algorithm,
	after the <a data-link-type="dfn" href="#display-type" id="ref-for-display-type-1">display types</a> have been modified by a possible <a data-link-type="dfn" href="#blockify" id="ref-for-blockify-1">blockification</a> or <a data-link-type="dfn" href="#inlinify" id="ref-for-inlinify-1">inlinification</a>,
	and after converting an <a class="css" data-link-type="maybe" href="#valdef-display-auto" id="ref-for-valdef-display-auto-1">auto</a> <a data-link-type="dfn" href="#inner-display-type" id="ref-for-inner-display-type-1">inner display type</a> to <a class="css" data-link-type="maybe" href="#valdef-display-block" id="ref-for-valdef-display-block-1">block</a> when the <a data-link-type="dfn" href="#outer-display-type" id="ref-for-outer-display-type-1">outer display type</a> is <a class="css" data-link-type="maybe" href="#valdef-display-block-level" id="ref-for-valdef-display-block-level-1">block-level</a>.</p>
   <ul>
    <li data-md="">
     <p>The computed value is the specified value in case of <a class="css" data-link-type="maybe" href="#valdef-display-none" id="ref-for-valdef-display-none-3">none</a> or <a class="css" data-link-type="maybe" href="#valdef-display-contents" id="ref-for-valdef-display-contents-2">contents</a>.</p>
    <li data-md="">
     <p>Otherwise, if all the following conditions hold, it’s the equivalent <a href="#legacy-display">precomposed inline-level display value</a>.</p>
     <ul>
      <li data-md="">
       <p>The <a data-link-type="dfn" href="#outer-display-type" id="ref-for-outer-display-type-2">outer display type</a> is <a class="css" data-link-type="maybe" href="#valdef-display-inline-level" id="ref-for-valdef-display-inline-level-1">inline-level</a>.</p>
      <li data-md="">
       <p>The <a data-link-type="dfn" href="#inner-display-type" id="ref-for-inner-display-type-2">inner display type</a> is not <a class="css" data-link-type="maybe" href="#valdef-display-ruby" id="ref-for-valdef-display-ruby-1">ruby</a>.</p>
      <li data-md="">
       <p>The <a data-link-type="dfn" href="#inner-display-type" id="ref-for-inner-display-type-3">inner display type</a> is <a class="css" data-link-type="maybe" href="#valdef-display-auto" id="ref-for-valdef-display-auto-2">auto</a> or the <a class="css" data-link-type="maybe" href="#valdef-display-list-item" id="ref-for-valdef-display-list-item-2">list-item</a> keyword was not specified.</p>
      <li data-md="">
       <p>The <a class="css" data-link-type="maybe" href="#valdef-display-flow-root" id="ref-for-valdef-display-flow-root-2">flow-root</a> keyword was not specified.</p>
     </ul>
    <li data-md="">
     <p>Otherwise, it is the concatenation of:</p>
     <ul>
      <li data-md="">
       <p>The <a class="css" data-link-type="maybe" href="#valdef-display-list-item" id="ref-for-valdef-display-list-item-3">list-item</a> keyword, if specified.</p>
      <li data-md="">
       <p>The <a data-link-type="dfn" href="#outer-display-type" id="ref-for-outer-display-type-3">outer display type</a>, if none of the following holds:</p>
       <ul>
        <li data-md="">
         <p>It is <a class="css" data-link-type="maybe" href="#valdef-display-block-level" id="ref-for-valdef-display-block-level-2">block-level</a> and the <a data-link-type="dfn" href="#inner-display-type" id="ref-for-inner-display-type-4">inner display type</a> is not <a class="css" data-link-type="maybe" href="#valdef-display-auto" id="ref-for-valdef-display-auto-3">auto</a> nor <a class="css" data-link-type="maybe" href="#valdef-display-ruby" id="ref-for-valdef-display-ruby-2">ruby</a>.</p>
        <li data-md="">
         <p>It is <a class="css" data-link-type="maybe" href="#valdef-display-inline-level" id="ref-for-valdef-display-inline-level-2">inline-level</a> and the <a data-link-type="dfn" href="#inner-display-type" id="ref-for-inner-display-type-5">inner display type</a> is <a class="css" data-link-type="maybe" href="#valdef-display-ruby" id="ref-for-valdef-display-ruby-3">ruby</a>.</p>
       </ul>
      <li data-md="">
       <p>The <a data-link-type="dfn" href="#inner-display-type" id="ref-for-inner-display-type-6">inner display type</a>, if none of the following holds:</p>
       <ul>
        <li data-md="">
         <p>It is <a class="css" data-link-type="maybe" href="#valdef-display-auto" id="ref-for-valdef-display-auto-4">auto</a>.</p>
        <li data-md="">
         <p>The <a data-link-type="dfn" href="#outer-display-type" id="ref-for-outer-display-type-4">outer display type</a> is <a data-link-type="dfn" href="#layout-internal" id="ref-for-layout-internal-1">layout-internal</a>.</p>
       </ul>
      <li data-md="">
       <p>The <a class="css" data-link-type="maybe" href="#valdef-display-flow-root" id="ref-for-valdef-display-flow-root-3">flow-root</a> keyword, if specified.</p>
     </ul>
   </ul>
   <p>The following informative table summarizes the basic values of <a class="property" data-link-type="propdesc" href="#propdef-display" id="ref-for-propdef-display-11">display</a>:</p>
   <table class="data" id="display-value-summary">
    <thead>
     <tr>
      <th>Short <a class="property" data-link-type="propdesc" href="#propdef-display" id="ref-for-propdef-display-12">display</a> 
      <th>Full <a class="property" data-link-type="propdesc" href="#propdef-display" id="ref-for-propdef-display-13">display</a> 
      <th>Generated box 
    <tbody title="Box Suppression Display Types">
     <tr>
      <td><a class="css" data-link-type="maybe" href="#valdef-display-none" id="ref-for-valdef-display-none-4">none</a> 
      <td>— 
      <td>subtree omitted from <a data-link-type="dfn" href="#box-tree" id="ref-for-box-tree-5">box tree</a> 
     <tr>
      <td><a class="css" data-link-type="maybe" href="#valdef-display-contents" id="ref-for-valdef-display-contents-3">contents</a> 
      <td>— 
      <td>element replaced by contents in <a data-link-type="dfn" href="#box-tree" id="ref-for-box-tree-6">box tree</a> 
    <tbody title="Flow Layout Display Types">
     <tr>
      <td><a class="css" data-link-type="maybe" href="#valdef-display-block" id="ref-for-valdef-display-block-2">block</a> 
      <td><span class="css">block-level block</span> 
      <td><a data-link-type="dfn" href="#block-level" id="ref-for-block-level-1">block-level</a> <a data-link-type="dfn" href="#block-container" id="ref-for-block-container-1">block container</a> <abbr title="also known as">aka</abbr> <a data-link-type="dfn" href="#block-box" id="ref-for-block-box-1">block box</a> 
     <tr>
      <td><a class="css" data-link-type="maybe" href="#valdef-display-flow-root" id="ref-for-valdef-display-flow-root-4">flow-root</a> 
      <td><span class="css">block-level auto flow-root</span> 
      <td><a data-link-type="dfn" href="#block-level" id="ref-for-block-level-2">block-level</a> <a data-link-type="dfn" href="#block-container" id="ref-for-block-container-2">block container</a> that establishes a new <a data-link-type="dfn" href="#block-formatting-context" id="ref-for-block-formatting-context-1">block formatting context</a> (<a data-link-type="dfn" href="#bfc" id="ref-for-bfc-1">BFC</a>) 
     <tr>
      <td><a class="css" data-link-type="maybe" href="#valdef-display-inline" id="ref-for-valdef-display-inline-1">inline</a> 
      <td><span class="css">inline-level auto</span> 
      <td><a data-link-type="dfn" href="#inline-box" id="ref-for-inline-box-1">inline box</a> 
     <tr>
      <td><a class="css" data-link-type="maybe" href="#valdef-display-inline-block" id="ref-for-valdef-display-inline-block-1">inline-block</a> 
      <td><span class="css">inline-level block</span> 
      <td><a data-link-type="dfn" href="#inline-level" id="ref-for-inline-level-1">inline-level</a> <a data-link-type="dfn" href="#block-container" id="ref-for-block-container-3">block container</a> 
     <tr>
      <td><a class="css" data-link-type="maybe" href="#valdef-display-run-in" id="ref-for-valdef-display-run-in-1">run-in</a> 
      <td><span class="css">run-in auto</span> 
      <td><a data-link-type="dfn" href="#run-in" id="ref-for-run-in-1">run-in box</a> (<a data-link-type="dfn" href="#inline-box" id="ref-for-inline-box-2">inline box</a> with special box-tree-munging rules) 
     <tr>
      <td><a class="css" data-link-type="maybe" href="#valdef-display-list-item" id="ref-for-valdef-display-list-item-4">list-item</a> 
      <td><span class="css">list-item block-level auto</span> 
      <td><a data-link-type="dfn" href="#block-box" id="ref-for-block-box-2">block box</a> with additional <a href="https://www.w3.org/TR/CSS2/generate.html#lists">marker box</a> 
     <tr>
      <td><a class="css" data-link-type="maybe" href="#valdef-display-inline-list-item" id="ref-for-valdef-display-inline-list-item-1">inline-list-item</a> 
      <td><span class="css">list-item inline-level auto</span> 
      <td><a data-link-type="dfn" href="#inline-box" id="ref-for-inline-box-3">inline box</a> with additional <a href="https://www.w3.org/TR/CSS2/generate.html#lists">marker box</a> 
    <tbody title="Formatting Context Root Display Types">
     <tr>
      <td><a class="css" data-link-type="maybe" href="#valdef-display-flex" id="ref-for-valdef-display-flex-1">flex</a> 
      <td><span class="css">block-level flex</span> 
      <td><a data-link-type="dfn" href="#block-level" id="ref-for-block-level-3">block-level</a> <a data-link-type="dfn" href="https://drafts.csswg.org/css-flexbox-1/#flex-container">flex container</a> 
     <tr>
      <td><a class="css" data-link-type="maybe" href="#valdef-display-inline-flex" id="ref-for-valdef-display-inline-flex-1">inline-flex</a> 
      <td><span class="css">inline-level flex</span> 
      <td><a data-link-type="dfn" href="#inline-level" id="ref-for-inline-level-2">inline-level</a> <a data-link-type="dfn" href="https://drafts.csswg.org/css-flexbox-1/#flex-container">flex container</a> 
     <tr>
      <td><a class="css" data-link-type="maybe" href="#valdef-display-grid" id="ref-for-valdef-display-grid-1">grid</a> 
      <td><span class="css">block-level grid</span> 
      <td><a data-link-type="dfn" href="#block-level" id="ref-for-block-level-4">block-level</a> <a data-link-type="dfn" href="https://drafts.csswg.org/css-grid-1/#grid-container">grid container</a> 
     <tr>
      <td><a class="css" data-link-type="maybe" href="#valdef-display-inline-grid" id="ref-for-valdef-display-inline-grid-1">inline-grid</a> 
      <td><span class="css">inline-level grid</span> 
      <td><a data-link-type="dfn" href="#inline-level" id="ref-for-inline-level-3">inline-level</a> <a data-link-type="dfn" href="https://drafts.csswg.org/css-grid-1/#grid-container">grid container</a> 
     <tr>
      <td><a class="css" data-link-type="maybe" href="#valdef-display-ruby" id="ref-for-valdef-display-ruby-4">ruby</a> 
      <td><span class="css">inline-level ruby</span> 
      <td><a data-link-type="dfn" href="#inline-level" id="ref-for-inline-level-4">inline-level</a> <a data-link-type="dfn" href="https://drafts.csswg.org/css-ruby-1/#ruby-container">ruby container</a> 
     <tr>
      <td><span class="css">block ruby</span> 
      <td><span class="css">block-level ruby</span> 
      <td><a data-link-type="dfn" href="#block-box" id="ref-for-block-box-3">block box</a> containing <a data-link-type="dfn" href="https://drafts.csswg.org/css-ruby-1/#ruby-container">ruby container</a> 
     <tr>
      <td><a class="css" data-link-type="maybe" href="#valdef-display-table" id="ref-for-valdef-display-table-1">table</a> 
      <td><span class="css">block-level table</span> 
      <td><a data-link-type="dfn" href="#block-level" id="ref-for-block-level-5">block-level</a> <a data-link-type="dfn" href="https://drafts.csswg.org/css2/tables.html#table-wrapper-box">table wrapper box</a> containing <a data-link-type="dfn" href="https://drafts.csswg.org/css2/tables.html#table-box">table box</a> 
     <tr>
      <td><a class="css" data-link-type="maybe" href="#valdef-display-inline-table" id="ref-for-valdef-display-inline-table-1">inline-table</a> 
      <td><span class="css">inline-level table</span> 
      <td><a data-link-type="dfn" href="#inline-level" id="ref-for-inline-level-5">inline-level</a> <a data-link-type="dfn" href="https://drafts.csswg.org/css2/tables.html#table-wrapper-box">table wrapper box</a> containing <a data-link-type="dfn" href="https://drafts.csswg.org/css2/tables.html#table-box">table box</a> 
    <tbody title="Layout-internal display types">
     <tr>
      <td><a class="production css" data-link-type="type" href="#typedef-display-internal" id="ref-for-typedef-display-internal-2" title="Expands to: table-row-group | ruby-base-container | table-header-group | table-footer-group | table-column | ruby-text-container | ruby-base | ruby-text | table-row | table-caption | table-cell | table-column-group">&lt;display-internal></a> types 
      <td>— 
      <td><a href="#layout-specific-display">layout-specific internal box</a> 
   </table>
   <p class="note" role="note"><span>Note:</span> Following the precedence rules of “most backwards-compatible, then shortest”,
	serialization of equivalent <a class="property" data-link-type="propdesc" href="#propdef-display" id="ref-for-propdef-display-14">display</a> values uses the “Short <a class="property" data-link-type="propdesc" href="#propdef-display" id="ref-for-propdef-display-15">display</a>” column. <a data-link-type="biblio" href="#biblio-cssom">[CSSOM]</a></p>
   <h3 class="heading settled" data-level="2.1" id="outer-role"><span class="secno">2.1. </span><span class="content"> Outer Display Roles for Flow Layout: the <a class="css" data-link-type="maybe" href="#valdef-display-block-level" id="ref-for-valdef-display-block-level-3">block-level</a>, <a class="css" data-link-type="maybe" href="#valdef-display-inline-level" id="ref-for-valdef-display-inline-level-3">inline-level</a>, and <a class="css" data-link-type="maybe" href="#valdef-display-run-in" id="ref-for-valdef-display-run-in-2">run-in</a> keywords</span><a class="self-link" href="#outer-role"></a></h3>
   <p>The <a class="production css" data-link-type="type" href="#typedef-display-outside" id="ref-for-typedef-display-outside-3" title="Expands to: run-in | block-level | inline-level">&lt;display-outside></a> keywords specify the element’s <a data-link-type="dfn" href="#outer-display-type" id="ref-for-outer-display-type-5">outer display type</a>,
	which is essentially its role in <a data-link-type="dfn" href="#flow-layout" id="ref-for-flow-layout-1">flow layout</a>.
	They are defined as follows:</p>
   <dl>
    <dt><dfn class="dfn-paneled css" data-dfn-for="display, <display-outside>" data-dfn-type="value" data-export="" id="valdef-display-block-level">block-level</dfn> 
    <dd> The element generates a <dfn class="dfn-paneled" data-dfn-for="" data-dfn-type="dfn" data-noexport="" id="block-level-box">block-level box</dfn> when placed in <a data-link-type="dfn" href="#flow-layout" id="ref-for-flow-layout-2">flow layout</a>. <a data-link-type="biblio" href="#biblio-css2">[CSS2]</a> 
    <dt><dfn class="dfn-paneled css" data-dfn-for="display, <display-outside>" data-dfn-type="value" data-export="" id="valdef-display-inline-level">inline-level</dfn> 
    <dd> The element generates an <dfn class="dfn-paneled" data-dfn-for="" data-dfn-type="dfn" data-noexport="" id="inline-level-box">inline-level box</dfn> when placed in <a data-link-type="dfn" href="#flow-layout" id="ref-for-flow-layout-3">flow layout</a>. <a data-link-type="biblio" href="#biblio-css2">[CSS2]</a> 
    <dt><dfn class="dfn-paneled css" data-dfn-for="display, <display-outside>" data-dfn-type="value" data-export="" id="valdef-display-run-in">run-in</dfn> 
    <dd> The element generates a <a data-link-type="dfn" href="#run-in" id="ref-for-run-in-2">run-in box</a> when placed in <a data-link-type="dfn" href="#flow-layout" id="ref-for-flow-layout-4">flow layout</a>.
			Run-in elements act like inlines or blocks,
			depending on the surrounding elements.
			See <a href="#run-in-layout">§3 Run-In Layout</a> for details. 
   </dl>
   <p>If a <a class="production css" data-link-type="type" href="#typedef-display-outside" id="ref-for-typedef-display-outside-4" title="Expands to: run-in | block-level | inline-level">&lt;display-outside></a> value is specified but <a class="production css" data-link-type="type" href="#typedef-display-inside" id="ref-for-typedef-display-inside-2" title="Expands to: flex | auto | grid | table | ruby | block">&lt;display-inside></a> is omitted,
	the element’s <a data-link-type="dfn" href="#inner-display-type" id="ref-for-inner-display-type-7">inner display type</a> defaults to <a class="css" data-link-type="maybe" href="#valdef-display-auto" id="ref-for-valdef-display-auto-5">auto</a>.</p>
   <p>If the element has an <a data-link-type="dfn" href="#inner-display-type" id="ref-for-inner-display-type-8">inner display type</a> that generates multiple boxes,
	such as <a class="css" data-link-type="maybe" href="#valdef-display-table" id="ref-for-valdef-display-table-2">table</a> or <a class="css" data-link-type="maybe" href="#valdef-display-ruby" id="ref-for-valdef-display-ruby-5">ruby</a>, the <a data-link-type="dfn" href="#outer-display-type" id="ref-for-outer-display-type-6">outer display type</a> applies to the <a data-link-type="dfn" href="#principal-box" id="ref-for-principal-box-1">principal box</a>.</p>
   <h3 class="heading settled" data-level="2.2" id="inner-model"><span class="secno">2.2. </span><span class="content"> Inner Display Layout Models: the <a class="css" data-link-type="maybe" href="#valdef-display-auto" id="ref-for-valdef-display-auto-6">auto</a>, <a class="css" data-link-type="maybe" href="#valdef-display-block" id="ref-for-valdef-display-block-3">block</a>, <a class="css" data-link-type="maybe" href="#valdef-display-table" id="ref-for-valdef-display-table-3">table</a>, <a class="css" data-link-type="maybe" href="#valdef-display-flex" id="ref-for-valdef-display-flex-2">flex</a>, <a class="css" data-link-type="maybe" href="#valdef-display-grid" id="ref-for-valdef-display-grid-2">grid</a>, and <a class="css" data-link-type="maybe" href="#valdef-display-ruby" id="ref-for-valdef-display-ruby-6">ruby</a> keywords</span><a class="self-link" href="#inner-model"></a></h3>
   <p>The <a class="production css" data-link-type="type" href="#typedef-display-inside" id="ref-for-typedef-display-inside-3" title="Expands to: flex | auto | grid | table | ruby | block">&lt;display-inside></a> keywords specify the element’s <a data-link-type="dfn" href="#inner-display-type" id="ref-for-inner-display-type-9">inner display type</a>,
	which defines the type of formatting context that lays out its contents
	(assuming it is a <a href="https://www.w3.org/TR/CSS2/conform.html#replaced-element">non-replaced</a> element).
	They are defined as follows:</p>
   <dl>
    <dt><dfn class="dfn-paneled css" data-dfn-for="display, <display-inside>" data-dfn-type="value" data-export="" id="valdef-display-auto">auto</dfn> 
    <dd>
      If (after <a data-link-type="dfn" href="#inlinify" id="ref-for-inlinify-2">inlinifying</a> or <a data-link-type="dfn" href="#blockify" id="ref-for-blockify-2">blockifying</a>, when applicable)
			the element’s <a data-link-type="dfn" href="#outer-display-type" id="ref-for-outer-display-type-7">outer display type</a> is <a class="css" data-link-type="maybe" href="#valdef-display-block-level" id="ref-for-valdef-display-block-level-4">block-level</a>,
			then <a class="css" data-link-type="maybe" href="#valdef-display-auto" id="ref-for-valdef-display-auto-7">auto</a> is changed to <a class="css" data-link-type="maybe" href="#valdef-display-block" id="ref-for-valdef-display-block-4">block</a>, and <a class="property" data-link-type="propdesc" href="#propdef-display" id="ref-for-propdef-display-16">display</a> computes accordingly. 
     <p>Otherwise, the element generates an <a data-link-type="dfn" href="#inline-box" id="ref-for-inline-box-4">inline box</a>.</p>
    <dt><dfn class="dfn-paneled css" data-dfn-for="display, <display-inside>" data-dfn-type="value" data-export="" id="valdef-display-block">block</dfn> 
    <dd>
      The element generates a <a data-link-type="dfn" href="#block-container" id="ref-for-block-container-4">block container</a> box,
			and lays out its contents using <dfn class="dfn-paneled" data-dfn-for="" data-dfn-type="dfn" data-noexport="" id="flow-layout">flow layout</dfn>. 
     <p>Depending on the <a data-link-type="dfn" href="#outer-display-type" id="ref-for-outer-display-type-8">outer display type</a>,
			the value of other properties (such as <a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css-position-3/#propdef-position">position</a>, <a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css2/visuren.html#propdef-float">float</a>, or <a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css2/visufx.html#propdef-overflow">overflow</a>)
			and whether it is itself participating in a block <a data-link-type="dfn" href="#formatting-context" id="ref-for-formatting-context-2">formatting context</a>,
			the element either establishes a new <a data-link-type="dfn" href="#block-formatting-context" id="ref-for-block-formatting-context-2">block formatting context</a> for its contents
			or integrates its contents into its parent <a data-link-type="dfn" href="#formatting-context" id="ref-for-formatting-context-3">formatting context</a>.
			See <a href="https://www.w3.org/TR/CSS2/visuren.html">CSS2.1 Chapter 9</a>. <a data-link-type="biblio" href="#biblio-css2">[CSS2]</a></p>
    <dt><dfn class="dfn-paneled css" data-dfn-for="display, <display-inside>" data-dfn-type="value" data-export="" id="valdef-display-table">table</dfn> 
    <dd> The element generates a principal <a data-link-type="dfn" href="https://drafts.csswg.org/css2/tables.html#table-wrapper-box">table wrapper box</a> that establishes a <a data-link-type="dfn" href="#block-formatting-context" id="ref-for-block-formatting-context-3">block formatting context</a>,
			and which contains
			an additionally-generated block-level <a data-link-type="dfn" href="https://drafts.csswg.org/css2/tables.html#table-box">table box</a> that establishes a <a data-link-type="dfn">table formatting context</a>. <a data-link-type="biblio" href="#biblio-css2">[CSS2]</a> 
    <dt><dfn class="dfn-paneled css" data-dfn-for="display, <display-inside>" data-dfn-type="value" data-export="" id="valdef-display-flex">flex</dfn> 
    <dd> The element generates a principal <a data-link-type="dfn" href="https://drafts.csswg.org/css-flexbox-1/#flex-container">flex container</a> box
			and establishes a <a data-link-type="dfn" href="https://drafts.csswg.org/css-flexbox-1/#flex-formatting-context">flex formatting context</a>. <a data-link-type="biblio" href="#biblio-css3-flexbox">[CSS3-FLEXBOX]</a> 
    <dt><dfn class="dfn-paneled css" data-dfn-for="display, <display-inside>" data-dfn-type="value" data-export="" id="valdef-display-grid">grid</dfn> 
    <dd> The element generates a principal <a data-link-type="dfn" href="https://drafts.csswg.org/css-grid-1/#grid-container">grid container</a> box,
			and establishes a <a data-link-type="dfn" href="https://drafts.csswg.org/css-grid-1/#grid-formatting-context">grid formatting context</a>. <a data-link-type="biblio" href="#biblio-css3-grid-layout">[CSS3-GRID-LAYOUT]</a> 
    <dt><dfn class="dfn-paneled css" data-dfn-for="display, <display-inside>" data-dfn-type="value" data-export="" id="valdef-display-ruby">ruby</dfn> 
    <dd> The element generates a principal <a class="css" data-link-type="maybe" href="#valdef-display-auto" id="ref-for-valdef-display-auto-8">auto</a> container box,
			which contains an additionally-generated inline-level <a data-link-type="dfn" href="https://drafts.csswg.org/css-ruby-1/#ruby-container">ruby container</a> that establishes a <a data-link-type="dfn" href="https://drafts.csswg.org/css-ruby-1/#ruby-formatting-context">ruby formatting context</a> in addition to integrating its base-level contents
			into its parent <a data-link-type="dfn" href="#formatting-context" id="ref-for-formatting-context-4">formatting context</a>. <a data-link-type="biblio" href="#biblio-css3ruby">[CSS3RUBY]</a> 
   </dl>
   <p>If a <a class="production css" data-link-type="type" href="#typedef-display-inside" id="ref-for-typedef-display-inside-4" title="Expands to: flex | auto | grid | table | ruby | block">&lt;display-inside></a> value is specified but <a class="production css" data-link-type="type" href="#typedef-display-outside" id="ref-for-typedef-display-outside-5" title="Expands to: run-in | block-level | inline-level">&lt;display-outside></a> is omitted,
	the element’s <a data-link-type="dfn" href="#outer-display-type" id="ref-for-outer-display-type-9">outer display type</a> defaults to <a class="css" data-link-type="maybe" href="#valdef-display-block-level" id="ref-for-valdef-display-block-level-5">block-level</a>—<wbr>except for <a class="css" data-link-type="maybe" href="#valdef-display-ruby" id="ref-for-valdef-display-ruby-7">ruby</a> and <a class="css" data-link-type="maybe" href="#valdef-display-auto" id="ref-for-valdef-display-auto-9">auto</a>, which default to <a class="css" data-link-type="maybe" href="#valdef-display-inline-level" id="ref-for-valdef-display-inline-level-4">inline-level</a>.</p>
   <h3 class="heading settled" data-level="2.3" id="flow-root"><span class="secno">2.3. </span><span class="content"> Becoming a formatting context: the <a class="css" data-link-type="maybe" href="#valdef-display-flow-root" id="ref-for-valdef-display-flow-root-5">flow-root</a> keyword</span><a class="self-link" href="#flow-root"></a></h3>
   <p>The <dfn class="dfn-paneled css" data-dfn-for="display, <display-flow-root>" data-dfn-type="value" data-export="" id="valdef-display-flow-root">flow-root</dfn> keyword
	causes the element to <dfn class="dfn-paneled" data-dfn-type="dfn" data-export="" data-lt="become a formatting context|becomes a formatting context|becoming a formatting context" id="become-a-formatting-context">become a <a data-link-type="dfn" href="#formatting-context" id="ref-for-formatting-context-5">formatting context</a></dfn>.
	If the element’s <a data-link-type="dfn" href="#inner-display-type" id="ref-for-inner-display-type-10">inner display type</a> is <a class="css" data-link-type="maybe" href="#valdef-display-table" id="ref-for-valdef-display-table-4">table</a>, <a class="css" data-link-type="maybe" href="#valdef-display-flex" id="ref-for-valdef-display-flex-3">flex</a>, <a class="css" data-link-type="maybe" href="#valdef-display-grid" id="ref-for-valdef-display-grid-3">grid</a>,
	this condition is satisfied.
	Otherwise, if the element’s <a data-link-type="dfn" href="#inner-display-type" id="ref-for-inner-display-type-11">inner display type</a> is <a class="css" data-link-type="maybe" href="#valdef-display-auto" id="ref-for-valdef-display-auto-10">auto</a>, <a class="css" data-link-type="maybe" href="#valdef-display-block" id="ref-for-valdef-display-block-5">block</a> or <a class="css" data-link-type="maybe" href="#valdef-display-ruby" id="ref-for-valdef-display-ruby-8">ruby</a>,
	the <a data-link-type="dfn" href="#principal-box" id="ref-for-principal-box-2">principal box</a> becomes a <a data-link-type="dfn" href="#block-container" id="ref-for-block-container-5">block container</a> which establishes a <a data-link-type="dfn" href="#bfc" id="ref-for-bfc-2">BFC</a>.
	This change does not affect the <a data-link-type="dfn" href="https://drafts.csswg.org/css-cascade-4/#computed-value">computed value</a> of the <a class="property" data-link-type="propdesc" href="#propdef-display" id="ref-for-propdef-display-17">display</a> property.</p>
   <p>If the <a class="css" data-link-type="maybe" href="#valdef-display-flow-root" id="ref-for-valdef-display-flow-root-6">flow-root</a> keyword is specified and both <a class="production css" data-link-type="type" href="#typedef-display-outside" id="ref-for-typedef-display-outside-6" title="Expands to: run-in | block-level | inline-level">&lt;display-outside></a> and <a class="production css" data-link-type="type" href="#typedef-display-inside" id="ref-for-typedef-display-inside-5" title="Expands to: flex | auto | grid | table | ruby | block">&lt;display-inside></a> are omitted,
	the element’s <a data-link-type="dfn" href="#outer-display-type" id="ref-for-outer-display-type-10">outer display type</a> defaults to <a class="css" data-link-type="maybe" href="#valdef-display-block-level" id="ref-for-valdef-display-block-level-6">block-level</a>.
	If only one <a data-link-type="dfn" href="#display-type" id="ref-for-display-type-2">display type</a> is ommitted, it defaults as usual.</p>
   <p>In some circumstances, an element may <a data-link-type="dfn" href="#become-a-formatting-context" id="ref-for-become-a-formatting-context-2">become a formatting context</a> by other means than the <a class="css" data-link-type="maybe" href="#valdef-display-flow-root" id="ref-for-valdef-display-flow-root-7">flow-root</a> keyword
	(see <a data-link-type="biblio" href="#biblio-css-contain-1">[CSS-CONTAIN-1]</a> or <a data-link-type="biblio" href="#biblio-css3-multicol">[CSS3-MULTICOL]</a> for examples).</p>
   <p class="note" role="note"><span>Note:</span> the <a class="css" data-link-type="maybe" href="#valdef-display-flow-root" id="ref-for-valdef-display-flow-root-8">flow-root</a> keyword usually has no effect on an <a class="css" data-link-type="maybe" href="#valdef-display-inline-block" id="ref-for-valdef-display-inline-block-2">inline-block</a>,
	because it already establishes a BFC. But if that box is blockified, with <a class="css" data-link-type="maybe" href="#valdef-display-flow-root" id="ref-for-valdef-display-flow-root-9">flow-root</a> the resulting <a data-link-type="dfn" href="#block-box" id="ref-for-block-box-4">block box</a> will continue establishing a BFC. Without <a class="css" data-link-type="maybe" href="#valdef-display-flow-root" id="ref-for-valdef-display-flow-root-10">flow-root</a>, it might
	integrate its contents into its parent BFC instead.</p>
   <p class="issue" id="issue-edbd7787"><a class="self-link" href="#issue-edbd7787"></a> How should an element with a <a data-link-type="dfn" href="#layout-internal" id="ref-for-layout-internal-2">layout-internal</a> <a data-link-type="dfn" href="#inner-display-type" id="ref-for-inner-display-type-12">inner display type</a> behave when <a data-link-type="dfn" href="#become-a-formatting-context" id="ref-for-become-a-formatting-context-3">becoming a formatting context</a>?</p>
   <p class="issue" id="issue-f47d65c8"><a class="self-link" href="#issue-f47d65c8"></a> Should the <a class="css" data-link-type="maybe" href="#valdef-display-flow-root" id="ref-for-valdef-display-flow-root-11">flow-root</a> keyword be allowed in <a class="production css" data-link-type="type" href="#typedef-display-internal" id="ref-for-typedef-display-internal-3" title="Expands to: table-row-group | ruby-base-container | table-header-group | table-footer-group | table-column | ruby-text-container | ruby-base | ruby-text | table-row | table-caption | table-cell | table-column-group">&lt;display-internal></a>?
	It might be useful in case the element is <a data-link-type="dfn" href="#blockify" id="ref-for-blockify-3">blockified</a>.</p>
   <h3 class="heading settled" data-level="2.4" id="list-items"><span class="secno">2.4. </span><span class="content"> Generating Marker Boxes: the <a class="css" data-link-type="maybe" href="#valdef-display-list-item" id="ref-for-valdef-display-list-item-5">list-item</a> keyword</span><a class="self-link" href="#list-items"></a></h3>
   <p>The <dfn class="dfn-paneled css" data-dfn-for="display, <display-list-item>" data-dfn-type="value" data-export="" id="valdef-display-list-item">list-item</dfn> keyword
	causes the element to generate a <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-pseudo-4/#selectordef-marker">::marker</a> pseudo-element box <a data-link-type="biblio" href="#biblio-css-pseudo-4">[CSS-PSEUDO-4]</a> with the content specified by its <a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css-lists-3/#propdef-list-style">list-style</a> properties
	(<a href="https://www.w3.org/TR/CSS2/generate.html#lists">CSS 2.1§12.5 Lists</a>) <a data-link-type="biblio" href="#biblio-css2">[CSS2]</a> together with a principal box of the specified type for its own contents.</p>
   <p>If the <a class="css" data-link-type="maybe" href="#valdef-display-list-item" id="ref-for-valdef-display-list-item-6">list-item</a> keyword is specified and both <a class="production css" data-link-type="type" href="#typedef-display-outside" id="ref-for-typedef-display-outside-7" title="Expands to: run-in | block-level | inline-level">&lt;display-outside></a> and <a class="production css" data-link-type="type" href="#typedef-display-inside" id="ref-for-typedef-display-inside-6" title="Expands to: flex | auto | grid | table | ruby | block">&lt;display-inside></a> are omitted,
	the element’s <a data-link-type="dfn" href="#outer-display-type" id="ref-for-outer-display-type-11">outer display type</a> defaults to <a class="css" data-link-type="maybe" href="#valdef-display-block-level" id="ref-for-valdef-display-block-level-7">block-level</a>.
	If only one <a data-link-type="dfn" href="#display-type" id="ref-for-display-type-3">display type</a> is ommitted, it defaults as usual.</p>
   <p class="note" role="note"><span>Note:</span> In this level, as restricted in the grammar,
	a list-item can only be a block box,
	a block formatting context root box,
	an inline box,
	or an inline-block box.
	This restriction may be relaxed in a future level of this module.</p>
   <h3 class="heading settled" data-level="2.5" id="layout-specific-display"><span class="secno">2.5. </span><span class="content"> Layout-Internal Display Types: the <span class="css">table-*</span> and <span class="css">ruby-*</span> keywords</span><a class="self-link" href="#layout-specific-display"></a></h3>
   <p>Some layout models, such as <a class="css" data-link-type="maybe" href="#valdef-display-table" id="ref-for-valdef-display-table-5">table</a> and <a class="css" data-link-type="maybe" href="#valdef-display-ruby" id="ref-for-valdef-display-ruby-9">ruby</a>,
	have a complex internal structure,
	with several different roles that their children and descendants can fill.
	This section defines those “<dfn class="dfn-paneled" data-dfn-type="dfn" data-export="" id="layout-internal">layout-internal</dfn>” <a class="property" data-link-type="propdesc" href="#propdef-display" id="ref-for-propdef-display-18">display</a> values,
	which only have meaning within that particular layout mode.</p>
   <p>Unless otherwise specified,
	both the <a data-link-type="dfn" href="#inner-display-type" id="ref-for-inner-display-type-13">inner display type</a> and the <a data-link-type="dfn" href="#outer-display-type" id="ref-for-outer-display-type-12">outer display type</a> of elements using these <a class="property" data-link-type="propdesc" href="#propdef-display" id="ref-for-propdef-display-19">display</a> values
	are set to the given keyword.</p>
   <p>The <a class="production css" data-link-type="type" href="#typedef-display-internal" id="ref-for-typedef-display-internal-4" title="Expands to: table-row-group | ruby-base-container | table-header-group | table-footer-group | table-column | ruby-text-container | ruby-base | ruby-text | table-row | table-caption | table-cell | table-column-group">&lt;display-internal></a> keywords are defined as follows:</p>
   <dl>
    <dt><dfn class="css" data-dfn-for="display, <display-internal>" data-dfn-type="value" data-export="" id="valdef-display-table-row-group">table-row-group<a class="self-link" href="#valdef-display-table-row-group"></a></dfn>, <dfn class="css" data-dfn-for="display, <display-internal>" data-dfn-type="value" data-export="" id="valdef-display-table-header-group">table-header-group<a class="self-link" href="#valdef-display-table-header-group"></a></dfn>, <dfn class="css" data-dfn-for="display, <display-internal>" data-dfn-type="value" data-export="" id="valdef-display-table-footer-group">table-footer-group<a class="self-link" href="#valdef-display-table-footer-group"></a></dfn>, <dfn class="dfn-paneled css" data-dfn-for="display, <display-internal>" data-dfn-type="value" data-export="" id="valdef-display-table-row">table-row</dfn>, <dfn class="dfn-paneled css" data-dfn-for="display, <display-internal>" data-dfn-type="value" data-export="" id="valdef-display-table-cell">table-cell</dfn>, <dfn class="css" data-dfn-for="display, <display-internal>" data-dfn-type="value" data-export="" id="valdef-display-table-column-group">table-column-group<a class="self-link" href="#valdef-display-table-column-group"></a></dfn>, <dfn class="css" data-dfn-for="display, <display-internal>" data-dfn-type="value" data-export="" id="valdef-display-table-column">table-column<a class="self-link" href="#valdef-display-table-column"></a></dfn> 
    <dd>
      The element is an <dfn class="dfn-paneled" data-dfn-for="" data-dfn-type="dfn" data-noexport="" id="internal-table-element">internal table element</dfn>.
			It generates the appropriate <dfn data-dfn-for="" data-dfn-type="dfn" data-noexport="" id="internal-table-box">internal table box<a class="self-link" href="#internal-table-box"></a></dfn> which participates in a <a data-link-type="dfn">table formatting context</a>.
			See <a href="https://www.w3.org/TR/CSS2/tables.html#table-display">CSS2§17.2</a> <a data-link-type="biblio" href="#biblio-css2">[CSS2]</a>. 
     <p><a class="css" data-link-type="maybe" href="#valdef-display-table-cell" id="ref-for-valdef-display-table-cell-1">table-cell</a> boxes have a <a class="css" data-link-type="maybe" href="#valdef-display-block" id="ref-for-valdef-display-block-6">block</a> <a data-link-type="dfn" href="#inner-display-type" id="ref-for-inner-display-type-14">inner display type</a>.</p>
    <dt><dfn class="dfn-paneled css" data-dfn-for="display, <display-internal>" data-dfn-type="value" data-export="" id="valdef-display-table-caption">table-caption</dfn> 
    <dd>
      The element generates a <dfn data-dfn-for="" data-dfn-type="dfn" data-noexport="" id="table-caption-box">table caption box<a class="self-link" href="#table-caption-box"></a></dfn>,
			which is a <a data-link-type="dfn" href="#block-box" id="ref-for-block-box-5">block box</a> with special behavior with respect to table and table wrapper boxes.
			See <a href="https://www.w3.org/TR/CSS2/tables.html#table-display">CSS2§17.2</a> <a data-link-type="biblio" href="#biblio-css2">[CSS2]</a>. 
     <p><a class="css" data-link-type="maybe" href="#valdef-display-table-caption" id="ref-for-valdef-display-table-caption-1">table-caption</a> boxes have a <a class="css" data-link-type="maybe" href="#valdef-display-block" id="ref-for-valdef-display-block-7">block</a> <a data-link-type="dfn" href="#inner-display-type" id="ref-for-inner-display-type-15">inner display type</a>.</p>
    <dt>
    <dt><dfn class="dfn-paneled css" data-dfn-for="display, <display-internal>" data-dfn-type="value" data-export="" id="valdef-display-ruby-base">ruby-base</dfn>, <dfn class="dfn-paneled css" data-dfn-for="display, <display-internal>" data-dfn-type="value" data-export="" id="valdef-display-ruby-text">ruby-text</dfn>, <dfn class="css" data-dfn-for="display, <display-internal>" data-dfn-type="value" data-export="" id="valdef-display-ruby-base-container">ruby-base-container<a class="self-link" href="#valdef-display-ruby-base-container"></a></dfn>, <dfn class="css" data-dfn-for="display, <display-internal>" data-dfn-type="value" data-export="" id="valdef-display-ruby-text-container">ruby-text-container<a class="self-link" href="#valdef-display-ruby-text-container"></a></dfn> 
    <dd>
      The element is an <dfn data-dfn-for="" data-dfn-type="dfn" data-noexport="" id="internal-ruby-element">internal ruby element<a class="self-link" href="#internal-ruby-element"></a></dfn>.
			It generates the appropriate <dfn data-dfn-for="" data-dfn-type="dfn" data-noexport="" id="internal-ruby-box">internal ruby box<a class="self-link" href="#internal-ruby-box"></a></dfn> which participates in a <a data-link-type="dfn" href="https://drafts.csswg.org/css-ruby-1/#ruby-formatting-context">ruby formatting context</a>. <a data-link-type="biblio" href="#biblio-css3ruby">[CSS3RUBY]</a> 
     <p><a class="css" data-link-type="maybe" href="#valdef-display-ruby-base" id="ref-for-valdef-display-ruby-base-1">ruby-base</a> and <a class="css" data-link-type="maybe" href="#valdef-display-ruby-text" id="ref-for-valdef-display-ruby-text-1">ruby-text</a> have an <a class="css" data-link-type="maybe" href="#valdef-display-auto" id="ref-for-valdef-display-auto-11">auto</a> <a data-link-type="dfn" href="#inner-display-type" id="ref-for-inner-display-type-16">inner display type</a>.</p>
   </dl>
   <p>Boxes with layout-specific display types generate anonymous wrapper boxes around themselves
	when placed in an incompatible parent,
	as defined by their respective specifications.</p>
   <div class="example" id="example-514848be">
    <a class="self-link" href="#example-514848be"></a> For example, Table Layout requires that a <a class="css" data-link-type="maybe" href="#valdef-display-table-cell" id="ref-for-valdef-display-table-cell-2">table-cell</a> box
		must have a <a class="css" data-link-type="maybe" href="#valdef-display-table-row" id="ref-for-valdef-display-table-row-1">table-row</a> parent box. 
    <p>If it is misparented, like so:</p>
<pre class="lang-markup highlight"><span class="p">&lt;</span><span class="nt">div</span> <span class="na">style</span><span class="o">=</span><span class="s">"display:block;"</span><span class="p">></span>
  <span class="p">&lt;</span><span class="nt">div</span> <span class="na">style</span><span class="o">=</span><span class="s">"display:table-cell"</span><span class="p">></span>...<span class="p">&lt;</span><span class="p">/</span><span class="nt">div</span><span class="p">></span>
<span class="p">&lt;</span><span class="p">/</span><span class="nt">div</span><span class="p">></span>
</pre>
    <p>It will generate wrapper boxes around itself,
		producing a structure like:</p>
<pre>block box
└anonymous table box
 └anonymous table-row-group box
  └anonymous table-row box
   └table-cell box
</pre>
    <p>Even if the parent is another <a data-link-type="dfn" href="#internal-table-element" id="ref-for-internal-table-element-1">internal table element</a>,
		if it’s not the <em>correct</em> one,
		wrapper boxes will be generated.
		For example, in the following markup:</p>
<pre class="lang-markup highlight"><span class="p">&lt;</span><span class="nt">div</span> <span class="na">style</span><span class="o">=</span><span class="s">"display:table;"</span><span class="p">></span>
  <span class="p">&lt;</span><span class="nt">div</span> <span class="na">style</span><span class="o">=</span><span class="s">"display:table-row"</span><span class="p">></span>
    <span class="p">&lt;</span><span class="nt">div</span> <span class="na">style</span><span class="o">=</span><span class="s">"display:table-cell"</span><span class="p">></span>...<span class="p">&lt;</span><span class="p">/</span><span class="nt">div</span><span class="p">></span>
  <span class="p">&lt;</span><span class="p">/</span><span class="nt">div</span><span class="p">></span>
<span class="p">&lt;</span><span class="p">/</span><span class="nt">div</span><span class="p">></span>
</pre>
    <p>Anonymous wrapper box generation will produce:</p>
<pre>table box
└anonymous table-row-group box
 └table-row box
  └table-cell box
</pre>
    <p>This "fix-up" ensures that table layout has a predictable structure to operate on.</p>
   </div>
   <h3 class="heading settled" data-level="2.6" id="box-generation"><span class="secno">2.6. </span><span class="content"> Box Generation: the <a class="css" data-link-type="maybe" href="#valdef-display-none" id="ref-for-valdef-display-none-5">none</a> and <a class="css" data-link-type="maybe" href="#valdef-display-contents" id="ref-for-valdef-display-contents-4">contents</a> keywords</span><a class="self-link" href="#box-generation"></a></h3>
   <p>While <a class="property" data-link-type="propdesc" href="#propdef-display" id="ref-for-propdef-display-20">display</a> can control the <em>types</em> of boxes an element will generate,
	it can also control whether an element will generate any boxes at all.</p>
   <p>The <a class="production css" data-link-type="type" href="#typedef-display-box" id="ref-for-typedef-display-box-2" title="Expands to: none | contents">&lt;display-box></a> keywords are defined as follows:</p>
   <dl>
    <dt><dfn class="dfn-paneled css" data-dfn-for="display, <display-box>" data-dfn-type="value" data-export="" id="valdef-display-contents">contents</dfn> 
    <dd>
      The element itself does not generate any boxes,
			but its children and pseudo-elements still generate boxes as normal.
			For the purposes of box generation and layout,
			the element must be treated as if it had been replaced in the <a data-link-type="dfn" href="#element" id="ref-for-element-5">element tree</a> by its contents
			(including both its source-document children and its pseudo-elements,
			such as <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-pseudo-4/#selectordef-before">::before</a> and <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-pseudo-4/#selectordef-after">::after</a> pseudo-elements,
			which are generated before/after the element’s children as normal). 
     <p class="note" role="note"><span>Note:</span> As only the box tree is affected,
			any semantics based on the document tree,
			such as selector-matching and event handling,
			are not affected.</p>
     <p>This value behaves as <a class="css" data-link-type="propdesc" href="#propdef-display" id="ref-for-propdef-display-21">display: none</a> on replaced elements
			and other elements whose rendering is not entirely controlled by CSS;
			see <a href="#unbox">Appendix B: Effects of display: contents on Unusual Elements</a> for details.</p>
     <p class="note" role="note"><span>Note:</span> Replaced elements and form controls are treated specially
			because removing only the element’s own generating box
			is a more-or-less undefined operation.
			As this behavior may be refined if use cases
			(and more precise rendering models) develop,
			authors should use <a class="css" data-link-type="propdesc" href="#propdef-display" id="ref-for-propdef-display-22">display: none</a> rather than <a class="css" data-link-type="propdesc" href="#propdef-display" id="ref-for-propdef-display-23">display: contents</a> on such elements for forward-compatibility.</p>
    <dt><dfn class="dfn-paneled css" data-dfn-for="display, <display-box>" data-dfn-type="value" data-export="" id="valdef-display-none">none</dfn> 
    <dd> The element and its descendants generate no boxes. 
   </dl>
   <p>Elements with either of these values do not have <a data-link-type="dfn" href="#inner-display-type" id="ref-for-inner-display-type-17">inner</a> or <a data-link-type="dfn" href="#outer-display-type" id="ref-for-outer-display-type-13">outer display types</a>,
	because they don’t generate any boxes at all.</p>
   <p class="note" role="note"><span>Note:</span> As these values cause affected elements to not generate a box,
	anonymous box generation rules will ignore the elided elements entirely,
	as if they did not exist in the box tree.</p>
   <p>Markup-based relationships, however, are not affected by these values,
	as they are solely rendering-time effects. <span class="non-normative"> For example,
		although they may affect which table cell <em>appears</em> in a column,
		they do not affect which table cell is associated with a particular column <em>element</em>.
		Similarly, they cannot affect which HTML <code><a data-link-type="element" href="https://html.spec.whatwg.org/multipage/forms.html#the-summary-element">summary</a></code> element is associated with a particular table
		or whether a <code><a data-link-type="element" href="https://html.spec.whatwg.org/multipage/forms.html#the-legend-element">legend</a></code> is the name of a <code><a data-link-type="element" href="https://html.spec.whatwg.org/multipage/forms.html#the-fieldset-element">fieldset</a></code>. </span></p>
   <h3 class="heading settled" data-level="2.7" id="legacy-display"><span class="secno">2.7. </span><span class="content"> Precomposed Inline-level Display Values</span><a class="self-link" href="#legacy-display"></a></h3>
   <p>CSS level 2 used a single-keyword syntax for <a class="property" data-link-type="propdesc" href="#propdef-display" id="ref-for-propdef-display-24">display</a>,
	requiring separate keywords for block-level and inline-level variants of the same layout mode.
	These <a class="production css" data-link-type="type" href="#typedef-display-legacy" id="ref-for-typedef-display-legacy-2" title="Expands to: inline-table | inline-block | inline-grid | inline-list-item | inline | inline-flex">&lt;display-legacy></a> keywords map as follows:</p>
   <dl>
    <dt><dfn class="dfn-paneled css" data-dfn-for="display, <display-legacy>" data-dfn-type="value" data-export="" id="valdef-display-inline">inline</dfn> 
    <dd> Behaves as <a class="css" data-link-type="maybe" href="#valdef-display-inline-level" id="ref-for-valdef-display-inline-level-5">inline-level</a>. 
    <dt><dfn class="dfn-paneled css" data-dfn-for="display, <display-legacy>" data-dfn-type="value" data-export="" id="valdef-display-inline-block">inline-block</dfn> 
    <dd> Behaves as <span class="css">inline-level block</span>. 
    <dt><dfn class="dfn-paneled css" data-dfn-for="display, <display-legacy>" data-dfn-type="value" data-export="" id="valdef-display-inline-table">inline-table</dfn> 
    <dd> Behaves as <span class="css">inline-level table</span>. 
    <dt><dfn class="dfn-paneled css" data-dfn-for="display, <display-legacy>" data-dfn-type="value" data-export="" id="valdef-display-inline-flex">inline-flex</dfn> 
    <dd> Behaves as <span class="css">inline-level flex</span>. 
    <dt><dfn class="dfn-paneled css" data-dfn-for="display, <display-legacy>" data-dfn-type="value" data-export="" id="valdef-display-inline-grid">inline-grid</dfn> 
    <dd> Behaves as <span class="css">inline-level grid</span>. 
    <dt><dfn class="dfn-paneled css" data-dfn-for="display, <display-legacy>" data-dfn-type="value" data-export="" id="valdef-display-inline-list-item">inline-list-item</dfn> 
    <dd> Behaves as <span class="css">inline-level list-item</span>. 
   </dl>
   <h3 class="heading settled" data-level="2.8" id="transformations"><span class="secno">2.8. </span><span class="content"> Automatic Box Type Transformations</span><a class="self-link" href="#transformations"></a></h3>
   <p>Some layout effects require <dfn class="dfn-paneled" data-dfn-type="dfn" data-export="" data-lt="blockify|blockification" id="blockify">blockification</dfn> or <dfn class="dfn-paneled" data-dfn-type="dfn" data-export="" data-lt="inlinify|inlinification" id="inlinify">inlinification</dfn> of the box type,
	which sets the box’s <a data-link-type="dfn" href="#outer-display-type" id="ref-for-outer-display-type-14">outer display type</a> to <a class="css" data-link-type="maybe" href="#valdef-display-block-level" id="ref-for-valdef-display-block-level-8">block-level</a> or <a class="css" data-link-type="maybe" href="#valdef-display-inline-level" id="ref-for-valdef-display-inline-level-6">inline-level</a> (respectively).
	(This has no effects on <a data-link-type="dfn" href="#display-type" id="ref-for-display-type-4">display types</a> that generate no box at all,
	such as <a class="css" data-link-type="maybe" href="#valdef-display-none" id="ref-for-valdef-display-none-6">none</a> or <a class="css" data-link-type="maybe" href="#valdef-display-contents" id="ref-for-valdef-display-contents-5">contents</a>.)</p>
   <div class="example" id="example-baf1dddd">
    <a class="self-link" href="#example-baf1dddd"></a> Some examples of this include: 
    <ul>
     <li>Absolute positioning or floating an element <a data-link-type="dfn" href="#blockify" id="ref-for-blockify-4">blockifies</a> the box’s display type. <a data-link-type="biblio" href="#biblio-css2">[CSS2]</a> 
     <li>Containment in a <a data-link-type="dfn" href="https://drafts.csswg.org/css-ruby-1/#ruby-container">ruby container</a> <a data-link-type="dfn" href="#inlinify" id="ref-for-inlinify-3">inlinifies</a> the box’s display type, as described in <a data-link-type="biblio" href="#biblio-css3ruby">[CSS3RUBY]</a>. 
     <li>A parent with a <a class="css" data-link-type="maybe" href="#valdef-display-grid" id="ref-for-valdef-display-grid-4">grid</a> or <a class="css" data-link-type="maybe" href="#valdef-display-flex" id="ref-for-valdef-display-flex-4">flex</a> <a class="property" data-link-type="propdesc" href="#propdef-display" id="ref-for-propdef-display-25">display</a> value <a data-link-type="dfn" href="#blockify" id="ref-for-blockify-5">blockifies</a> the box’s display type. <a data-link-type="biblio" href="#biblio-css3-grid-layout">[CSS3-GRID-LAYOUT]</a> <a data-link-type="biblio" href="#biblio-css3-flexbox">[CSS3-FLEXBOX]</a> 
    </ul>
   </div>
   <p>If an <span class="css">inline-level auto</span> box is <a data-link-type="dfn" href="#inlinify" id="ref-for-inlinify-4">inlinified</a>,
	it recursively <a data-link-type="dfn" href="#inlinify" id="ref-for-inlinify-5">inlinifies</a> all of its in-flow children,
	so that no block-level descendants
	break up the inline formatting context in which it participates.</p>
   <p>If a <a data-link-type="dfn" href="#layout-internal" id="ref-for-layout-internal-3">layout-internal</a> box is <a data-link-type="dfn" href="#blockify" id="ref-for-blockify-6">blockified</a>,
	its <a data-link-type="dfn" href="#inner-display-type" id="ref-for-inner-display-type-18">inner display type</a> converts to <a class="css" data-link-type="maybe" href="#valdef-display-auto" id="ref-for-valdef-display-auto-12">auto</a> so that it becomes a <a data-link-type="dfn" href="#block-container" id="ref-for-block-container-6">block container</a>.</p>
   <p class="issue" id="issue-43ae6483"><a class="self-link" href="#issue-43ae6483"></a> Should conversion of layout-internal display types also happen for inlinification?
	If it does, should it change to <a class="css" data-link-type="maybe" href="#valdef-display-auto" id="ref-for-valdef-display-auto-13">auto</a> or <a class="css" data-link-type="maybe" href="#valdef-display-block" id="ref-for-valdef-display-block-8">block</a>?
	If it doesn’t, then anonymous-box fixup will handle things.</p>
   <p>The root element’s display type is always <a data-link-type="dfn" href="#blockify" id="ref-for-blockify-7">blockified</a>.
	Additionally, a <a class="property" data-link-type="propdesc" href="#propdef-display" id="ref-for-propdef-display-26">display</a> of <a class="css" data-link-type="maybe" href="#valdef-display-contents" id="ref-for-valdef-display-contents-6">contents</a> computes to <a class="css" data-link-type="maybe" href="#valdef-display-block" id="ref-for-valdef-display-block-9">block</a> on the root element.</p>
   <h2 class="heading settled" data-level="3" id="run-in-layout"><span class="secno">3. </span><span class="content"> Run-In Layout</span><a class="self-link" href="#run-in-layout"></a></h2>
   <p>A <dfn class="dfn-paneled" data-dfn-type="dfn" data-export="" data-lt="run-in | run-in box" id="run-in">run-in box</dfn> is a box that <em>merges into</em> a block that comes after it,
	inserting itself at the beginning of that block’s inline-level content.
	This is useful for formatting compact headlines, definitions, and other similar things,
	where the appropriate DOM structure is to have a headline preceding the following prose,
	but the desired display is an inline headline laying out with the text.</p>
   <div class="example" id="example-60e66c8d">
    <a class="self-link" href="#example-60e66c8d"></a> For example, dictionary definitions are often formatted so that the word is inline with the definition: 
<pre>&lt;dl class='dict'>
  &lt;dt>dictionary
  &lt;dd>a book that lists the words of a language in alphabetical
      order and gives their meaning, or that gives the equivalent
      words in a different language.
  &lt;dt>glossary
  &lt;dd>an alphabetical list of terms or words found in or relating
      to a specific subject, text, or dialect, with explanations; a
      brief dictionary.
&lt;/dl>
&lt;style>
.dict > dt {
  display: run-in;
}
.dict > dt::after {
  content: ": "
}
&lt;/style>
</pre>
    <p>Which is formatted as:</p>
<pre><b>dictionary:</b> a book that lists the words of a language
in alphabetical order and explains their meaning.

<b>glossary:</b> an alphabetical list of terms or words found
in or relating to a specific subject, text, or dialect,
with explanations; a brief dictionary.
</pre>
   </div>
   <p>A <a data-link-type="dfn" href="#run-in" id="ref-for-run-in-3">run-in box</a> behaves exactly as an <a data-link-type="dfn" href="#inline-level-box" id="ref-for-inline-level-box-1">inline-level box</a>, except:</p>
   <ul>
    <li>
      If a <a data-link-type="dfn" href="#run-in-sequence" id="ref-for-run-in-sequence-1">run-in sequence</a> is immediately followed by a block box
			that does not establish a new <a data-link-type="dfn" href="#block-formatting-context" id="ref-for-block-formatting-context-4">block formatting context</a>,
			it is inserted as direct children of the block box
			after its <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-pseudo-4/#selectordef-marker">::marker</a> pseudo-element’s boxes (if any),
			but preceding any other boxes generated by the contents of the block
			(including the box generated by the <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-pseudo-4/#selectordef-before">::before</a> pseudo-element, if any). 
     <p>The reparented content is then formatted as if originally parented there. <span class="note">Note that only layout is affected, not inheritance,
			because property inheritance for non-anonymous boxes is based only on the element tree.</span></p>
    <li> Otherwise,
			an anonymous block box is generated around the <a data-link-type="dfn" href="#run-in-sequence" id="ref-for-run-in-sequence-2">run-in sequence</a> and all immediately following inline-level content
			(up to, but not including, the next <a data-link-type="dfn" href="#run-in-sequence" id="ref-for-run-in-sequence-3">run-in sequence</a>, if any). 
    <li> A <a data-link-type="dfn" href="#run-in" id="ref-for-run-in-4">run-in box</a> with an <a class="css" data-link-type="maybe" href="#valdef-display-auto" id="ref-for-valdef-display-auto-14">auto</a> <a data-link-type="dfn" href="#inner-display-type" id="ref-for-inner-display-type-19">inner display type</a> <a data-link-type="dfn" href="#inlinify" id="ref-for-inlinify-6">inlinifies</a> its contents. 
   </ul>
   <p>A <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport="" id="run-in-sequence">run-in sequence</dfn> is a maximal sequence of consecutive sibling <a data-link-type="dfn" href="#run-in" id="ref-for-run-in-5">run-in boxes</a> and intervening white space and/or out-of-flow boxes.</p>
   <p class="note" role="note"><span>Note:</span> This statement implies that out-of-flow boxes are reparented
	if they are between two run-in boxes.
	Another alternative would be to leave behind the intervening out-of-flow boxes,
	or to have out-of-flow boxes impede the running-in of earlier boxes.
	Implementers and authors are encouraged to contact the CSSWG if they have a preferred behavior, as this one was picked somewhat at random.</p>
   <p class="note" role="note"><span>Note:</span> As the earliest run-in represents the first text on the <a data-link-type="dfn" href="https://drafts.csswg.org/css-pseudo-4/#first-formatted-line">first formatted line</a> of its containing block,
	a <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-pseudo-4/#selectordef-first-letter">::first-letter</a> pseudo-element applied to that block element
	selects the first letter of the run-in,
	rather than the first letter of its own contents.</p>
   <p class="note" role="note"><span>Note:</span> This run-in model is slightly different from the one proposed in earlier revisions of <a data-link-type="biblio" href="#biblio-css2">[CSS2]</a>.</p>
   <h2 class="no-num heading settled" id="glossary"><span class="content"> Appendix A: Glossary</span><a class="self-link" href="#glossary"></a></h2>
   <p>The following terms are defined here for convenience:</p>
   <dl>
    <dt><dfn class="dfn-paneled" data-dfn-type="dfn" data-export="" id="principal-box">principal box</dfn> 
    <dd>
      When an <a data-link-type="dfn" href="#element" id="ref-for-element-6">element</a> generates one or more <a data-link-type="dfn" href="#box" id="ref-for-box-7">boxes</a>,
			one of them is the <a data-link-type="dfn" href="#principal-box" id="ref-for-principal-box-3">principal box</a>,
			which contains its descendant boxes and generated content,
			and is also the box involved in any positioning scheme. 
     <p>Some elements may generate additional boxes in addition to the principal box
			(such as <a class="css" data-link-type="maybe" href="#valdef-display-list-item" id="ref-for-valdef-display-list-item-7">list-item</a> elements,
			which generate an additional marker box,
			or <a class="css" data-link-type="maybe" href="#valdef-display-table" id="ref-for-valdef-display-table-6">table</a> elements,
			which generate a <a data-link-type="dfn" href="#principal-box" id="ref-for-principal-box-4">principal</a> <a data-link-type="dfn" href="https://drafts.csswg.org/css2/tables.html#table-wrapper-box">table wrapper box</a> and an additional <a data-link-type="dfn" href="https://drafts.csswg.org/css2/tables.html#table-box">table box</a>.
			These additional boxes are placed with respect to the principal box.</p>
    <dt><dfn class="dfn-paneled" data-dfn-type="dfn" data-export="" data-lt="inline-level|inline-level content" id="inline-level">inline-level</dfn> 
    <dd> Content that participates in inline layout.
			Specifically, inline-level boxes and text. 
    <dt><dfn class="dfn-paneled" data-dfn-type="dfn" data-export="" data-lt="block-level|block-level content" id="block-level">block-level</dfn> 
    <dd> Content that participates in block layout.
			Specifically, block-level boxes. 
    <dt><dfn class="dfn-paneled" data-dfn-type="dfn" data-export="" id="inline-box">inline box</dfn> 
    <dd> A non-replaced <a data-link-type="dfn" href="#inline-level" id="ref-for-inline-level-6">inline-level</a> box whose <a data-link-type="dfn" href="#inner-display-type" id="ref-for-inner-display-type-20">inner display type</a> is <a class="css" data-link-type="maybe" href="#valdef-display-auto" id="ref-for-valdef-display-auto-15">auto</a>.
			The contents of an inline box participate in the same inline formatting context as the inline box itself. 
    <dt><dfn data-dfn-type="dfn" data-export="" id="inline">inline<a class="self-link" href="#inline"></a></dfn> 
    <dd> Used as a shorthand for <a data-link-type="dfn" href="#inline-box" id="ref-for-inline-box-5">inline box</a> or <a data-link-type="dfn" href="#inline-level-box" id="ref-for-inline-level-box-2">inline-level box</a> where unambiguous,
			or as an adjective meaning <a data-link-type="dfn" href="#inline-level" id="ref-for-inline-level-7">inline-level</a>.
			The latter usage is deprecated. 
    <dt><dfn data-dfn-type="dfn" data-export="" data-lt="atomic inline|atomic inline box" id="atomic-inline">atomic inline<a class="self-link" href="#atomic-inline"></a></dfn> 
    <dd>
      An inline-level box that is replaced (such as an image)
			or that establishes a new formatting context (such as an <a class="css" data-link-type="maybe" href="#valdef-display-inline-block" id="ref-for-valdef-display-inline-block-3">inline-block</a> or <a class="css" data-link-type="maybe" href="#valdef-display-inline-table" id="ref-for-valdef-display-inline-table-2">inline-table</a>)
			and cannot split across lines
			(as <a data-link-type="dfn" href="#inline-box" id="ref-for-inline-box-6">inline boxes</a> and <a data-link-type="dfn" href="https://drafts.csswg.org/css-ruby-1/#ruby-container">ruby containers</a> can). 
     <p>Any inline-level box whose <a data-link-type="dfn" href="#inner-display-type" id="ref-for-inner-display-type-21">inner display type</a> is not <a class="css" data-link-type="maybe" href="#valdef-display-auto" id="ref-for-valdef-display-auto-16">auto</a> establishes a new formatting context of the specified <a data-link-type="dfn" href="#inner-display-type" id="ref-for-inner-display-type-22">inner display type</a>.</p>
    <dt><dfn class="dfn-paneled" data-dfn-type="dfn" data-export="" data-lt="block container|block container box" id="block-container">block container</dfn> 
    <dd>
      A block container either contains only inline-level boxes
			participating in an <a data-link-type="dfn" href="#inline-formatting-context" id="ref-for-inline-formatting-context-1">inline formatting context</a>,
			or contains only block-level boxes
			participating in a <a data-link-type="dfn" href="#block-formatting-context" id="ref-for-block-formatting-context-5">block formatting context</a> (possibly generating anonymous block boxes to ensure this constraint,
			as defined in <a href="https://www.w3.org/TR/CSS2/visuren.html#anonymous-block-level">CSS2§9.2.1.1</a>). 
     <p>A block container that contains only inline-level content
			establishes a new <a data-link-type="dfn" href="#inline-formatting-context" id="ref-for-inline-formatting-context-2">inline formatting context</a>.
			The element then also generates a <a data-link-type="dfn" href="https://drafts.csswg.org/css-inline-3/#root-inline-box">root inline box</a> which wraps all of its inline content. <span class="note">Note, this <a data-link-type="dfn" href="https://drafts.csswg.org/css-inline-3/#root-inline-box">root inline box</a> concept
			effectively replaces the "anonymous inline element" concept
			introduced in <a href="https://www.w3.org/TR/CSS2/visuren.html#anonymous">CSS2§9.2.2.1</a>.</span></p>
     <p>A block container that contains only block-level boxes
			establishes a new <a data-link-type="dfn" href="#block-formatting-context" id="ref-for-block-formatting-context-6">block formatting context</a> if its parent formatting context is <em>not</em> a <a data-link-type="dfn" href="#block-formatting-context" id="ref-for-block-formatting-context-7">block formatting context</a>;
			otherwise, when participating in a <a data-link-type="dfn" href="#block-formatting-context" id="ref-for-block-formatting-context-8">block formatting context</a> itself,
			it either establishes a new <a data-link-type="dfn" href="#block-formatting-context" id="ref-for-block-formatting-context-9">block formatting context</a> for its contents
			or continues the one in which it participates,
			as determined by the constraints of other properties
			(such as <a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css2/visufx.html#propdef-overflow">overflow</a> or <a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css-align-3/#propdef-align-content">align-content</a>).</p>
     <p class="note" role="note"><span>Note:</span> Not all block container boxes are block-level boxes:
			non-replaced inline blocks and non-replaced table cells are block containers
			but not block-level boxes.
			Block-level boxes that are also block containers are called <a data-link-type="dfn" href="#block-box" id="ref-for-block-box-6">block boxes</a>.</p>
    <dt><dfn class="dfn-paneled" data-dfn-type="dfn" data-export="" id="block-box">block box</dfn> 
    <dd> A <a data-link-type="dfn" href="#block-level-box" id="ref-for-block-level-box-1">block-level box</a> that is also a <a data-link-type="dfn" href="#block-container" id="ref-for-block-container-7">block container</a>. 
    <dt><dfn class="dfn-paneled" data-dfn-type="dfn" data-export="" id="block">block</dfn> 
    <dd> Used as a shorthand for <a data-link-type="dfn" href="#block-box" id="ref-for-block-box-7">block box</a>, <a data-link-type="dfn" href="#block-level-box" id="ref-for-block-level-box-2">block-level box</a>, or <a data-link-type="dfn" href="#block-container" id="ref-for-block-container-8">block container box</a>,
			where unambiguous. 
    <dt><dfn data-dfn-type="dfn" data-export="" id="replaced-element">replaced element<a class="self-link" href="#replaced-element"></a></dfn> 
    <dd>
      An element whose content is outside the scope of the CSS formatting model,
			such as an image, embedded document, or applet. <span class="non-normative"> For example, the content of the HTML <code><a data-link-type="element" href="https://html.spec.whatwg.org/multipage/embedded-content.html#the-img-element">img</a></code> element
				is often replaced by the image that its <code><a data-link-type="element-sub" href="https://html.spec.whatwg.org/multipage/embedded-content.html#attr-img-src">src</a></code> attribute designates. </span> Replaced elements often have intrinsic dimensions:
			an intrinsic width, an intrinsic height, and an intrinsic ratio.
			For example, a bitmap image has an intrinsic width and an intrinsic height specified in absolute units
			(from which the intrinsic ratio can obviously be determined).
			On the other hand, other documents may not have any intrinsic dimensions
			(for example, a blank HTML document). 
     <p>User agents may consider a replaced element to not have any intrinsic dimensions
			if it is believed that those dimensions could leak sensitive information to a third party.
			For example, if an HTML document changed intrinsic size depending on the user’s bank balance,
			then the UA might want to act as if that resource had no intrinsic dimensions.</p>
     <p>The content of replaced elements is not considered in the CSS rendering model.</p>
    <dt><dfn class="dfn-paneled" data-dfn-type="dfn" data-export="" id="containing-block">containing block</dfn> 
    <dd> A rectangle that forms the basis of sizing and positioning
			for the boxes associated with it
			(usually the children of the box that generated it).
			Notably, a containing block is <em>not a box</em> (it is a rectangle),
			however it is often derived from the dimensions of a box.
			If properties of a containing block are referenced,
			they reference the values on the box that generated the containing block.
			(For the <a data-link-type="dfn" href="#initial-containing-block" id="ref-for-initial-containing-block-1">initial containing block</a>, the values are taken from the root element.)
			See <a data-link-type="biblio" href="#biblio-css2">[CSS2]</a> <a href="https://www.w3.org/TR/CSS2/visuren.html#containing-block">Section 9.1.2</a> and <a href="https://www.w3.org/TR/CSS2/visudet.html#containing-block-details">Section 10.1</a> for details. 
    <dt><dfn data-dfn-type="dfn" data-export="" id="containing-block-chain">containing block chain<a class="self-link" href="#containing-block-chain"></a></dfn> 
    <dd> A sequence of successive <a data-link-type="dfn" href="#containing-block" id="ref-for-containing-block-1">containing blocks</a> that form an ancestor-descendant chain
			through the <a data-link-type="dfn" href="#containing-block" id="ref-for-containing-block-2">containing block</a> relation.
			For example, an <a data-link-type="dfn" href="#inline-box" id="ref-for-inline-box-7">inline box</a>’s containing block is the content box of its closest <a data-link-type="dfn" href="#block-container" id="ref-for-block-container-9">block container</a> ancestor;
			if that block container is an in-flow <a data-link-type="dfn" href="#block" id="ref-for-block-1">block</a>,
			then <em>its</em> containing block is formed by its parent <a data-link-type="dfn" href="#block-container" id="ref-for-block-container-10">block container</a>;
			if that grandparent <a data-link-type="dfn" href="#block-container" id="ref-for-block-container-11">block container</a> is <a data-link-type="dfn">absolutely positioned</a>,
			then <em>its</em> containing block is the padding edges of its closest <em>positioned</em> ancestor (not necessarily its parent),
			and so on up to the <a data-link-type="dfn" href="#initial-containing-block" id="ref-for-initial-containing-block-2">initial containing block</a>. 
    <dt><dfn class="dfn-paneled" data-dfn-type="dfn" data-export="" id="initial-containing-block">initial containing block</dfn> 
    <dd> The <a data-link-type="dfn" href="#containing-block" id="ref-for-containing-block-3">containing block</a> of the root element.
			See <a href="https://www.w3.org/TR/CSS2/visudet.html#containing-block-details">CSS2.1§10.1</a> for continuous media;
			and <a data-link-type="biblio" href="#biblio-css3page">[CSS3PAGE]</a> for paged media. 
    <dt><dfn class="dfn-paneled" data-dfn-type="dfn" data-export="" id="formatting-context">formatting context</dfn> 
    <dd>
      A <a data-link-type="dfn" href="#formatting-context" id="ref-for-formatting-context-6">formatting context</a> is the environment
			into which a set of related boxes are laid out.
			Different formatting contexts lay out their boxes
			according to different rules.
			For example, a <a data-link-type="dfn" href="https://drafts.csswg.org/css-flexbox-1/#flex-formatting-context">flex formatting context</a> lays out boxes according to the <a data-link-type="dfn" href="https://drafts.csswg.org/css-flexbox-1/#flex-layout">flex layout</a> rules <a data-link-type="biblio" href="#biblio-css3-flexbox">[CSS3-FLEXBOX]</a>,
			whereas a <a data-link-type="dfn" href="#block-formatting-context" id="ref-for-block-formatting-context-10">block formatting context</a> lays out boxes according to the block-and-inline layout rules <a data-link-type="biblio" href="#biblio-css2">[CSS2]</a>. 
     <p>When a box establishes a <em>new</em> formatting context
			(whether that formatting context is of the same type as its parent or not),
			it essentially creates a new, independent layout environment:
			except through the sizing of the box itself,
			the layout of its descendants is (generally)
			not affected by the the rules and contents of
			the formatting context outside the box, and vice versa.</p>
     <p class="example" id="example-178f4c71"><a class="self-link" href="#example-178f4c71"></a> For example, in a <a data-link-type="dfn" href="#block-formatting-context" id="ref-for-block-formatting-context-11">block formatting context</a>,
				floated boxes affect the layout of surrounding boxes.
				But their effects do not escape their <a data-link-type="dfn" href="#formatting-context" id="ref-for-formatting-context-7">formatting context</a>:
				the box establishing their <a data-link-type="dfn" href="#formatting-context" id="ref-for-formatting-context-8">formatting context</a> grows to fully contain them,
				and floats from outside that box
				are not allowed to protrude into and affect the contents
				inside the box. </p>
     <p class="example" id="example-bb8209a6"><a class="self-link" href="#example-bb8209a6"></a> As another example, margins do not collapse across formatting context boundaries. </p>
     <p class="note" role="note"> Exclusions are able to affect content across formatting context boundaries.
				(At time of writing, they are the only layout feature that can.) <a data-link-type="biblio" href="#biblio-css3-exclusions">[CSS3-EXCLUSIONS]</a> </p>
    <dt><dfn class="dfn-paneled" data-dfn-type="dfn" data-export="" id="block-formatting-context">block formatting context</dfn> 
    <dt><dfn class="dfn-paneled" data-dfn-type="dfn" data-export="" id="inline-formatting-context">inline formatting context</dfn> 
    <dd> Block and inline formatting contexts are defined in <a href="https://www.w3.org/TR/CSS2/visuren.html#normal-flow">CSS 2.1 Section 9.4</a>. 
    <dt><dfn class="dfn-paneled" data-dfn-type="dfn" data-export="" id="bfc">BFC</dfn> 
    <dd> Informal abbreviation for <a data-link-type="dfn" href="#block-formatting-context" id="ref-for-block-formatting-context-12">block formatting context</a>.
			Often used to refer to a <a data-link-type="dfn" href="#block-formatting-context" id="ref-for-block-formatting-context-13">block formatting context</a> <em>root</em>,
			that is, a <a data-link-type="dfn" href="#block-box" id="ref-for-block-box-8">block box</a> that establishes a new <a data-link-type="dfn" href="#block-formatting-context" id="ref-for-block-formatting-context-14">block formatting context</a> for its contents. 
    <dt><dfn class="dfn-paneled" data-dfn-type="dfn" data-export="" id="out-of-flow">out-of-flow</dfn> 
    <dt><dfn class="dfn-paneled" data-dfn-type="dfn" data-export="" id="in-flow">in-flow</dfn> 
    <dd>
      A box is <a data-link-type="dfn" href="#out-of-flow" id="ref-for-out-of-flow-1">out-of-flow</a> if it is floated (via <a class="property" data-link-type="propdesc" href="https://drafts.csswg.org/css2/visuren.html#propdef-float">float</a>)
			or absolutely-positioned (via <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-position-3/#valdef-position-absolute">absolute</a> or <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-position-3/#valdef-position-fixed">fixed</a> positioning).
			A box is <a data-link-type="dfn" href="#in-flow" id="ref-for-in-flow-1">in-flow</a> if it is not <a data-link-type="dfn" href="#out-of-flow" id="ref-for-out-of-flow-2">out-of-flow</a>. 
     <p class="note" role="note"><span>Note:</span> some formatting contexts inhibit floating,
			so that an element with <a class="css" data-link-type="propdesc" href="https://drafts.csswg.org/css2/visuren.html#propdef-float">float: left</a> is not necessarily <a data-link-type="dfn" href="#out-of-flow" id="ref-for-out-of-flow-3">out-of-flow</a>.</p>
   </dl>
   <p>See <a data-link-type="biblio" href="#biblio-css2">[CSS2]</a> <a href="https://www.w3.org/TR/CSS2/visuren.html">Chapter 9</a> for a fuller definition of these terms.</p>
   <h2 class="no-num non-normative heading settled" id="unbox"><span class="content"> Appendix B: Effects of <a class="css" data-link-type="propdesc" href="#propdef-display" id="ref-for-propdef-display-27">display: contents</a> on Unusual Elements</span><a class="self-link" href="#unbox"></a></h2>
   <p><em>This section is (currently) non-normative.</em></p>
   <p>Some elements aren’t rendered purely by CSS box concepts;
	for example, replaced elements (such as <code><a data-link-type="element" href="https://html.spec.whatwg.org/multipage/embedded-content.html#the-img-element">img</a></code>),
	many form controls (such as <code><a data-link-type="element" href="https://html.spec.whatwg.org/multipage/forms.html#the-input-element">input</a></code>),
	and SVG elements.</p>
   <p>This appendix defines how they interact with <a class="css" data-link-type="propdesc" href="#propdef-display" id="ref-for-propdef-display-28">display: contents</a>.</p>
   <h3 class="heading settled" id="unbox-html"><span class="content">HTML Elements</span><a class="self-link" href="#unbox-html"></a></h3>
   <dl>
    <dt data-md=""><code><a data-link-type="element" href="https://html.spec.whatwg.org/multipage/semantics.html#the-br-element">br</a></code>
    <dt data-md=""><code><a data-link-type="element" href="https://html.spec.whatwg.org/multipage/semantics.html#the-wbr-element">wbr</a></code>
    <dt data-md=""><code><a data-link-type="element" href="https://html.spec.whatwg.org/multipage/forms.html#the-meter-element">meter</a></code>
    <dt data-md=""><code><a data-link-type="element" href="https://html.spec.whatwg.org/multipage/forms.html#the-progress-element">progress</a></code>
    <dt data-md=""><code><a data-link-type="element" href="https://html.spec.whatwg.org/multipage/obsolete.html#the-applet-element">applet</a></code>
    <dt data-md=""><code><a data-link-type="element" href="https://html.spec.whatwg.org/multipage/scripting.html#canvas">canvas</a></code>
    <dt data-md=""><code><a data-link-type="element" href="https://html.spec.whatwg.org/multipage/embedded-content.html#the-embed-element">embed</a></code>
    <dt data-md=""><code><a data-link-type="element" href="https://html.spec.whatwg.org/multipage/embedded-content.html#the-object-element">object</a></code>
    <dt data-md=""><code><a data-link-type="element" href="https://html.spec.whatwg.org/multipage/embedded-content.html#audio">audio</a></code>
    <dt data-md=""><code><a data-link-type="element" href="https://html.spec.whatwg.org/multipage/embedded-content.html#the-iframe-element">iframe</a></code>
    <dt data-md=""><code><a data-link-type="element" href="https://html.spec.whatwg.org/multipage/embedded-content.html#the-img-element">img</a></code>
    <dt data-md=""><code><a data-link-type="element" href="https://html.spec.whatwg.org/multipage/embedded-content.html#video">video</a></code>
    <dt data-md=""><code><a data-link-type="element" href="https://html.spec.whatwg.org/multipage/obsolete.html#frame">frame</a></code>
    <dt data-md=""><code><a data-link-type="element" href="https://html.spec.whatwg.org/multipage/obsolete.html#frameset">frameset</a></code>
    <dt data-md=""><code><a data-link-type="element" href="https://html.spec.whatwg.org/multipage/forms.html#the-input-element">input</a></code>
    <dt data-md=""><code><a data-link-type="element" href="https://html.spec.whatwg.org/multipage/forms.html#the-textarea-element">textarea</a></code>
    <dt data-md=""><code><a data-link-type="element" href="https://html.spec.whatwg.org/multipage/forms.html#the-select-element">select</a></code>
    <dd data-md="">
     <p><a class="css" data-link-type="propdesc" href="#propdef-display" id="ref-for-propdef-display-29">display: contents</a> behaves as <a class="css" data-link-type="propdesc" href="#propdef-display" id="ref-for-propdef-display-30">display: none</a>.</p>
    <dt data-md=""><code><a data-link-type="element" href="https://html.spec.whatwg.org/multipage/forms.html#the-legend-element">legend</a></code>
    <dd data-md="">
     <p>Per HTML, a <code><a data-link-type="element" href="https://html.spec.whatwg.org/multipage/forms.html#the-legend-element">legend</a></code> with <a class="css" data-link-type="propdesc" href="#propdef-display" id="ref-for-propdef-display-31">display: contents</a> is not a <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/rendering.html#rendered-legend">rendered legend</a>,
so it does not have magical display behavior.
(Thus, it reacts to <a class="css" data-link-type="propdesc" href="#propdef-display" id="ref-for-propdef-display-32">display: contents</a> normally.)</p>
    <dt data-md=""><code><a data-link-type="element" href="https://html.spec.whatwg.org/multipage/forms.html#the-button-element">button</a></code>
    <dt data-md=""><code><a data-link-type="element" href="https://html.spec.whatwg.org/multipage/forms.html#the-details-element">details</a></code>
    <dt data-md=""><code><a data-link-type="element" href="https://html.spec.whatwg.org/multipage/forms.html#the-fieldset-element">fieldset</a></code>
    <dd data-md="">
     <p>These elements don’t have any special behavior; <a class="css" data-link-type="propdesc" href="#propdef-display" id="ref-for-propdef-display-33">display: contents</a> simply removes their <a data-link-type="dfn" href="#principal-box" id="ref-for-principal-box-5">principal box</a>,
and their contents render as normal.</p>
    <dt data-md="">any other HTML element
    <dd data-md="">
     <p>Behaves as normal for <a class="css" data-link-type="propdesc" href="#propdef-display" id="ref-for-propdef-display-34">display: contents</a>.</p>
   </dl>
   <h3 class="heading settled" id="unbox-svg"><span class="content">SVG Elements</span><a class="self-link" href="#unbox-svg"></a></h3>
   <dl>
    <dt data-md="">Root <code><a data-link-type="element" href="https://svgwg.org/svg2-draft/struct.html#elementdef-svg">svg</a></code>
    <dd data-md="">
     <p><a class="css" data-link-type="propdesc" href="#propdef-display" id="ref-for-propdef-display-35">display: contents</a> behaves as <a class="css" data-link-type="propdesc" href="#propdef-display" id="ref-for-propdef-display-36">display: none</a>.</p>
    <dt data-md="">Nested <code><a data-link-type="element" href="https://svgwg.org/svg2-draft/struct.html#elementdef-svg">svg</a></code>
    <dt data-md=""><code><a data-link-type="element" href="https://svgwg.org/svg2-draft/struct.html#elementdef-g">g</a></code>
    <dt data-md=""><code><a data-link-type="element" href="https://svgwg.org/svg2-draft/struct.html#elementdef-use">use</a></code> (treated as a Shadow DOM container)
    <dt data-md=""><code><a data-link-type="element" href="https://svgwg.org/svg2-draft/text.html#elementdef-tspan">tspan</a></code>
    <dd data-md="">
     <p><a class="css" data-link-type="propdesc" href="#propdef-display" id="ref-for-propdef-display-37">display: contents</a> strips the element from the formatting tree,
and hoists its contents up to display in its place.</p>
    <dt data-md="">any other SVG elements
    <dd data-md="">
     <p><a class="css" data-link-type="propdesc" href="#propdef-display" id="ref-for-propdef-display-38">display: contents</a> behaves as <a class="css" data-link-type="propdesc" href="#propdef-display" id="ref-for-propdef-display-39">display: none</a>.</p>
   </dl>
   <h2 class="no-num heading settled" id="acknowledgments"><span class="content"> Acknowledgments</span><a class="self-link" href="#acknowledgments"></a></h2>
   <p>We would like to thank the many people who have attempted to separate out the disparate details of box generation over the years,
	most particularly Bert Bos,
	whose last attempt with <a class="property" data-link-type="propdesc">display-model</a> and <a class="property" data-link-type="propdesc">display-role</a> didn’t get anywhere,
	but primed us for the current spec,
	and Anton Prowse,
	whose relentless assault on CSS2.1 Chapter 9 forced some order out of the chaos.</p>
   <h2 class="no-num heading settled" id="changes"><span class="content"> Changes</span><a class="self-link" href="#changes"></a></h2>
   <p>Changes since the ??? Working Draft include:</p>
   <ul>
    <li>Deferred the <span class="css">box-suppress/display-or-not</span> property to the next level of Display,
		in order to provide time for futher discussion of use cases. 
    <li>Specified that <a class="css" data-link-type="propdesc" href="#propdef-display" id="ref-for-propdef-display-40">display: contents</a> computes to <a class="css" data-link-type="propdesc" href="#propdef-display" id="ref-for-propdef-display-41">display: inline</a> on replaced elements and form controls. 
    <li>Clarified that an element’s <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-pseudo-4/#selectordef-before">::before</a> and <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-pseudo-4/#selectordef-after">::after</a> pseudo-elements still exist if its own box is not generated due to <a class="css" data-link-type="propdesc" href="#propdef-display" id="ref-for-propdef-display-42">display: contents</a>. 
    <li>Clarified that event bubbling is not affected by <a class="css" data-link-type="propdesc" href="#propdef-display" id="ref-for-propdef-display-43">display: contents</a>. 
    <li>Clarified interaction of run-ins with out-of-flow elements and <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-pseudo-4/#selectordef-first-letter">::first-letter</a>. 
    <li>Switched <a class="css" data-link-type="maybe" href="#valdef-display-table-caption" id="ref-for-valdef-display-table-caption-2">table-caption</a> and <a class="css" data-link-type="maybe" href="#valdef-display-table-cell" id="ref-for-valdef-display-table-cell-3">table-cell</a> to use <a class="css" data-link-type="maybe" href="#valdef-display-flow-root" id="ref-for-valdef-display-flow-root-12">flow-root</a> as their <a data-link-type="dfn" href="#inner-display-type" id="ref-for-inner-display-type-23">inner display type</a>, since they always form a formatting context root. 
    <li>Closed off remaining issues and added at-risk list. 
    <li>Added the definition of <a data-link-type="dfn" href="#become-a-formatting-context" id="ref-for-become-a-formatting-context-4">becoming a formatting context</a> 
   </ul>
   <p>Changes since the <a href="https://www.w3.org/TR/2015/WD-css-display-3-20150721/">21 July 2015 Working Draft</a> include:</p>
   <ul>
    <li>Added definitions for <a data-link-type="dfn" href="#in-flow" id="ref-for-in-flow-2">in-flow</a> and <a data-link-type="dfn" href="#out-of-flow" id="ref-for-out-of-flow-4">out-of-flow</a> to glossary. 
   </ul>
   <p>Changes since the <a href="https://www.w3.org/TR/2014/WD-css-display-3-20140911/">11 September 2014 Working Draft</a> include:</p>
   <ul>
    <li>Removed <span class="css">display-inside</span>, <span class="css">display-outside</span>, and <span class="css">display-extras</span> longhands,
			in favor of just making <a class="property" data-link-type="propdesc" href="#propdef-display" id="ref-for-propdef-display-44">display</a> multi-value.
			(This was done to impose constraints on what can be combined.
			Future levels of this specification may relax some or all of those restrictions
			if they become unnecessary or unwanted.) 
    <li>Created the <span class="css">flow</span> and <a class="css" data-link-type="maybe" href="#valdef-display-flow-root" id="ref-for-valdef-display-flow-root-13">flow-root</a> <a data-link-type="dfn" href="#inner-display-type" id="ref-for-inner-display-type-24">inner display types</a> to better express flow layout <a data-link-type="dfn" href="#display-type" id="ref-for-display-type-5">display types</a> and to create an explicit switch for making an element a <a data-link-type="dfn" href="#bfc" id="ref-for-bfc-3">BFC</a> root.
			(This should eliminate the need for hacks
			like <span class="css">::after { clear: both; }</span> and <a class="css" data-link-type="propdesc" href="https://drafts.csswg.org/css2/visufx.html#propdef-overflow">overflow: hidden</a> that are intended to accomplish this purpose.) 
   </ul>
   <h2 class="heading settled" data-level="4" id="priv-sec"><span class="secno">4. </span><span class="content">Privacy and Security Considerations</span><a class="self-link" href="#priv-sec"></a></h2>
   <p>This specification introduces no new privacy or security considerations.</p>
  </main>
  <h2 class="no-ref no-num heading settled" id="conformance"><span class="content"> Conformance</span><a class="self-link" href="#conformance"></a></h2>
  <h3 class="heading settled" id="document-conventions"><span class="content"> Document conventions</span><a class="self-link" href="#document-conventions"></a></h3>
  <p>Conformance requirements are expressed with a combination of
	descriptive assertions and RFC 2119 terminology. The key words “MUST”,
	“MUST NOT”, “REQUIRED”, “SHALL”, “SHALL NOT”, “SHOULD”, “SHOULD NOT”,
	“RECOMMENDED”, “MAY”, and “OPTIONAL” in the normative parts of this
	document are to be interpreted as described in RFC 2119.
	However, for readability, these words do not appear in all uppercase
	letters in this specification. </p>
  <p>All of the text of this specification is normative except sections
	explicitly marked as non-normative, examples, and notes. <a data-link-type="biblio" href="#biblio-rfc2119">[RFC2119]</a> </p>
  <p>Examples in this specification are introduced with the words “for example”
	or are set apart from the normative text with <code>class="example"</code>,
	like this: </p>
  <div class="example" id="example-52448c84">
   <a class="self-link" href="#example-52448c84"></a> 
   <p>This is an example of an informative example. </p>
  </div>
  <p>Informative notes begin with the word “Note” and are set apart from the
	normative text with <code>class="note"</code>, like this: </p>
  <p class="note" role="note">Note, this is an informative note. </p>
  <p>Advisements are normative sections styled to evoke special attention and are
	set apart from other normative text with <code>&lt;strong class="advisement"></code>, like
	this: <strong class="advisement"> UAs MUST provide an accessible alternative. </strong> </p>
  <h3 class="heading settled" id="conform-classes"><span class="content"> Conformance classes</span><a class="self-link" href="#conform-classes"></a></h3>
  <p>Conformance to this specification
	is defined for three conformance classes: </p>
  <dl>
   <dt>style sheet 
   <dd>A <a href="http://www.w3.org/TR/CSS2/conform.html#style-sheet">CSS
			style sheet</a>. 
   <dt>renderer 
   <dd>A <a href="http://www.w3.org/TR/CSS2/conform.html#user-agent">UA</a> that interprets the semantics of a style sheet and renders
			documents that use them. 
   <dt>authoring tool 
   <dd>A <a href="http://www.w3.org/TR/CSS2/conform.html#user-agent">UA</a> that writes a style sheet. 
  </dl>
  <p>A style sheet is conformant to this specification
	if all of its statements that use syntax defined in this module are valid
	according to the generic CSS grammar and the individual grammars of each
	feature defined in this module. </p>
  <p>A renderer is conformant to this specification
	if, in addition to interpreting the style sheet as defined by the
	appropriate specifications, it supports all the features defined
	by this specification by parsing them correctly
	and rendering the document accordingly. However, the inability of a
	UA to correctly render a document due to limitations of the device
	does not make the UA non-conformant. (For example, a UA is not
	required to render color on a monochrome monitor.) </p>
  <p>An authoring tool is conformant to this specification
	if it writes style sheets that are syntactically correct according to the
	generic CSS grammar and the individual grammars of each feature in
	this module, and meet all other conformance requirements of style sheets
	as described in this module. </p>
  <h3 class="heading settled" id="conform-responsible"><span class="content"> Requirements for Responsible Implementation of CSS</span><a class="self-link" href="#conform-responsible"></a></h3>
  <p>The following sections define several conformance requirements
		for implementing CSS responsibly,
		in a way that promotes interoperability in the present and future. </p>
  <h4 class="heading settled" id="conform-partial"><span class="content"> Partial Implementations</span><a class="self-link" href="#conform-partial"></a></h4>
  <p>So that authors can exploit the forward-compatible parsing rules to assign fallback values, <strong>CSS renderers <em>must</em> treat as invalid
		(and <a href="http://www.w3.org/TR/CSS2/conform.html#ignore">ignore as appropriate</a>)
		any at-rules, properties, property values, keywords, and other syntactic constructs
		for which they have no usable level of support</strong>.
		In particular, user agents <em>must not</em> selectively ignore
		unsupported property values and honor supported values in a single multi-value property declaration:
		if any value is considered invalid (as unsupported values must be),
		CSS requires that the entire declaration be ignored. </p>
  <h4 class="heading settled" id="conform-future-proofing"><span class="content"> Implementations of Unstable and Proprietary Features</span><a class="self-link" href="#conform-future-proofing"></a></h4>
  <p>To avoid clashes with future stable CSS features,
		the CSSWG recommends <a href="http://www.w3.org/TR/CSS/#future-proofing">following best practices</a> for the implementation of <a href="http://www.w3.org/TR/CSS/#unstable">unstable</a> features and <a href="http://www.w3.org/TR/CSS/#proprietary-extension">proprietary extensions</a> to CSS. </p>
  <h4 class="heading settled" id="conform-testing"><span class="content"> Implementations of CR-level Features</span><a class="self-link" href="#conform-testing"></a></h4>
  <p>Once a specification reaches the Candidate Recommendation stage,
		implementers should release an <a data-link-type="dfn" href="http://www.w3.org/TR/CSS/#vendor-prefix">unprefixed</a> implementation
		of any CR-level feature they can demonstrate
		to be correctly implemented according to spec,
		and should avoid exposing a prefixed variant of that feature. </p>
  <p>To establish and maintain the interoperability of CSS across
		implementations, the CSS Working Group requests that non-experimental
		CSS renderers submit an implementation report (and, if necessary, the
		testcases used for that implementation report) to the W3C before
		releasing an unprefixed implementation of any CSS features. Testcases
		submitted to W3C are subject to review and correction by the CSS
		Working Group. </p>
  <p>
   Further information on submitting testcases and implementation reports
		can be found from on the CSS Working Group’s website at <a href="http://www.w3.org/Style/CSS/Test/">http://www.w3.org/Style/CSS/Test/</a>.
		Questions should be directed to the <a href="http://lists.w3.org/Archives/Public/public-css-testsuite">public-css-testsuite@w3.org</a> mailing list. 
<script src="https://www.w3.org/scripts/TR/2016/fixup.js"></script>
  </p>
  <h2 class="no-num no-ref heading settled" id="index"><span class="content">Index</span><a class="self-link" href="#index"></a></h2>
  <h3 class="no-num no-ref heading settled" id="index-defined-here"><span class="content">Terms defined by this specification</span><a class="self-link" href="#index-defined-here"></a></h3>
  <ul class="index">
   <li><a href="#anonymous">anonymous</a><span>, in §1</span>
   <li><a href="#anonymous">anonymous box</a><span>, in §1</span>
   <li><a href="#atomic-inline">atomic inline</a><span>, in §Unnumbered section</span>
   <li><a href="#atomic-inline">atomic inline box</a><span>, in §Unnumbered section</span>
   <li><a href="#valdef-display-auto">auto</a><span>, in §2.2</span>
   <li><a href="#become-a-formatting-context">become a formatting context</a><span>, in §2.3</span>
   <li><a href="#become-a-formatting-context">becomes a formatting context</a><span>, in §2.3</span>
   <li><a href="#become-a-formatting-context">becoming a formatting context</a><span>, in §2.3</span>
   <li><a href="#bfc">BFC</a><span>, in §Unnumbered section</span>
   <li>
    block
    <ul>
     <li><a href="#valdef-display-block">value for display, &lt;display-inside></a><span>, in §2.2</span>
     <li><a href="#block">definition of</a><span>, in §Unnumbered section</span>
    </ul>
   <li><a href="#block-box">block box</a><span>, in §Unnumbered section</span>
   <li><a href="#block-container">block container</a><span>, in §Unnumbered section</span>
   <li><a href="#block-container">block container box</a><span>, in §Unnumbered section</span>
   <li><a href="#block-formatting-context">block formatting context</a><span>, in §Unnumbered section</span>
   <li><a href="#blockify">blockification</a><span>, in §2.8</span>
   <li><a href="#blockify">blockify</a><span>, in §2.8</span>
   <li>
    block-level
    <ul>
     <li><a href="#valdef-display-block-level">value for display, &lt;display-outside></a><span>, in §2.1</span>
     <li><a href="#block-level">definition of</a><span>, in §Unnumbered section</span>
    </ul>
   <li><a href="#block-level-box">block-level box</a><span>, in §2.1</span>
   <li><a href="#block-level">block-level content</a><span>, in §Unnumbered section</span>
   <li><a href="#box">box</a><span>, in §1</span>
   <li><a href="#box-tree">box tree</a><span>, in §1</span>
   <li><a href="#containing-block">containing block</a><span>, in §Unnumbered section</span>
   <li><a href="#containing-block-chain">containing block chain</a><span>, in §Unnumbered section</span>
   <li><a href="#valdef-display-contents">contents</a><span>, in §2.6</span>
   <li><a href="#propdef-display">display</a><span>, in §2</span>
   <li><a href="#typedef-display-box">&lt;display-box></a><span>, in §2</span>
   <li><a href="#typedef-display-inside">&lt;display-inside></a><span>, in §2</span>
   <li><a href="#typedef-display-internal">&lt;display-internal></a><span>, in §2</span>
   <li><a href="#typedef-display-legacy">&lt;display-legacy></a><span>, in §2</span>
   <li><a href="#typedef-display-listitem">&lt;display-listitem></a><span>, in §2</span>
   <li><a href="#typedef-display-normal">&lt;display-normal></a><span>, in §2</span>
   <li><a href="#typedef-display-outside">&lt;display-outside></a><span>, in §2</span>
   <li><a href="#display-type">display type</a><span>, in §2</span>
   <li><a href="#element">element</a><span>, in §1</span>
   <li><a href="#element">element tree</a><span>, in §1</span>
   <li><a href="#valdef-display-flex">flex</a><span>, in §2.2</span>
   <li><a href="#flow-layout">flow layout</a><span>, in §2.2</span>
   <li><a href="#valdef-display-flow-root">flow-root</a><span>, in §2.3</span>
   <li><a href="#formatting-context">formatting context</a><span>, in §Unnumbered section</span>
   <li><a href="#valdef-display-grid">grid</a><span>, in §2.2</span>
   <li><a href="#in-flow">in-flow</a><span>, in §Unnumbered section</span>
   <li><a href="#initial-containing-block">initial containing block</a><span>, in §Unnumbered section</span>
   <li>
    inline
    <ul>
     <li><a href="#valdef-display-inline">value for display, &lt;display-legacy></a><span>, in §2.7</span>
     <li><a href="#inline">definition of</a><span>, in §Unnumbered section</span>
    </ul>
   <li><a href="#valdef-display-inline-block">inline-block</a><span>, in §2.7</span>
   <li><a href="#inline-box">inline box</a><span>, in §Unnumbered section</span>
   <li><a href="#valdef-display-inline-flex">inline-flex</a><span>, in §2.7</span>
   <li><a href="#inline-formatting-context">inline formatting context</a><span>, in §Unnumbered section</span>
   <li><a href="#valdef-display-inline-grid">inline-grid</a><span>, in §2.7</span>
   <li>
    inline-level
    <ul>
     <li><a href="#valdef-display-inline-level">value for display, &lt;display-outside></a><span>, in §2.1</span>
     <li><a href="#inline-level">definition of</a><span>, in §Unnumbered section</span>
    </ul>
   <li><a href="#inline-level-box">inline-level box</a><span>, in §2.1</span>
   <li><a href="#inline-level">inline-level content</a><span>, in §Unnumbered section</span>
   <li><a href="#valdef-display-inline-list-item">inline-list-item</a><span>, in §2.7</span>
   <li><a href="#valdef-display-inline-table">inline-table</a><span>, in §2.7</span>
   <li><a href="#inlinify">inlinification</a><span>, in §2.8</span>
   <li><a href="#inlinify">inlinify</a><span>, in §2.8</span>
   <li><a href="#inner-display-type">inner</a><span>, in §2</span>
   <li><a href="#inner-display-type">inner display type</a><span>, in §2</span>
   <li><a href="#internal-ruby-box">internal ruby box</a><span>, in §2.5</span>
   <li><a href="#internal-ruby-element">internal ruby element</a><span>, in §2.5</span>
   <li><a href="#internal-table-box">internal table box</a><span>, in §2.5</span>
   <li><a href="#internal-table-element">internal table element</a><span>, in §2.5</span>
   <li><a href="#layout-internal">layout-internal</a><span>, in §2.5</span>
   <li><a href="#valdef-display-list-item">list-item</a><span>, in §2.4</span>
   <li><a href="#valdef-display-none">none</a><span>, in §2.6</span>
   <li><a href="#outer-display-type">outer</a><span>, in §2</span>
   <li><a href="#outer-display-type">outer display type</a><span>, in §2</span>
   <li><a href="#out-of-flow">out-of-flow</a><span>, in §Unnumbered section</span>
   <li><a href="#principal-box">principal box</a><span>, in §Unnumbered section</span>
   <li><a href="#replaced-element">replaced element</a><span>, in §Unnumbered section</span>
   <li><a href="#valdef-display-ruby">ruby</a><span>, in §2.2</span>
   <li><a href="#valdef-display-ruby-base">ruby-base</a><span>, in §2.5</span>
   <li><a href="#valdef-display-ruby-base-container">ruby-base-container</a><span>, in §2.5</span>
   <li><a href="#valdef-display-ruby-text">ruby-text</a><span>, in §2.5</span>
   <li><a href="#valdef-display-ruby-text-container">ruby-text-container</a><span>, in §2.5</span>
   <li>
    run-in
    <ul>
     <li><a href="#valdef-display-run-in">value for display, &lt;display-outside></a><span>, in §2.1</span>
     <li><a href="#run-in">definition of</a><span>, in §3</span>
    </ul>
   <li><a href="#run-in">run-in box</a><span>, in §3</span>
   <li><a href="#run-in-sequence">run-in sequence</a><span>, in §3</span>
   <li><a href="#valdef-display-table">table</a><span>, in §2.2</span>
   <li><a href="#valdef-display-table-caption">table-caption</a><span>, in §2.5</span>
   <li><a href="#table-caption-box">table caption box</a><span>, in §2.5</span>
   <li><a href="#valdef-display-table-cell">table-cell</a><span>, in §2.5</span>
   <li><a href="#valdef-display-table-column">table-column</a><span>, in §2.5</span>
   <li><a href="#valdef-display-table-column-group">table-column-group</a><span>, in §2.5</span>
   <li><a href="#valdef-display-table-footer-group">table-footer-group</a><span>, in §2.5</span>
   <li><a href="#valdef-display-table-header-group">table-header-group</a><span>, in §2.5</span>
   <li><a href="#valdef-display-table-row">table-row</a><span>, in §2.5</span>
   <li><a href="#valdef-display-table-row-group">table-row-group</a><span>, in §2.5</span>
  </ul>
  <h3 class="no-num no-ref heading settled" id="index-defined-elsewhere"><span class="content">Terms defined by reference</span><a class="self-link" href="#index-defined-elsewhere"></a></h3>
  <ul class="index">
   <li>
    <a data-link-type="biblio">[css-align-3]</a> defines the following terms:
    <ul>
     <li><a href="https://drafts.csswg.org/css-align-3/#propdef-align-content">align-content</a>
    </ul>
   <li>
    <a data-link-type="biblio">[css-cascade-4]</a> defines the following terms:
    <ul>
     <li><a href="https://drafts.csswg.org/css-cascade-4/#computed-value">computed value</a>
    </ul>
   <li>
    <a data-link-type="biblio">[css-inline-3]</a> defines the following terms:
    <ul>
     <li><a href="https://drafts.csswg.org/css-inline-3/#root-inline-box">root inline box</a>
    </ul>
   <li>
    <a data-link-type="biblio">[css-lists-3]</a> defines the following terms:
    <ul>
     <li><a href="https://drafts.csswg.org/css-lists-3/#propdef-list-style">list-style</a>
    </ul>
   <li>
    <a data-link-type="biblio">[css-position-3]</a> defines the following terms:
    <ul>
     <li><a href="https://drafts.csswg.org/css-position-3/#valdef-position-absolute">absolute</a>
     <li><a href="https://drafts.csswg.org/css-position-3/#valdef-position-fixed">fixed</a>
     <li><a href="https://drafts.csswg.org/css-position-3/#propdef-position">position</a>
    </ul>
   <li>
    <a data-link-type="biblio">[CSS-PSEUDO-4]</a> defines the following terms:
    <ul>
     <li><a href="https://drafts.csswg.org/css-pseudo-4/#selectordef-after">::after</a>
     <li><a href="https://drafts.csswg.org/css-pseudo-4/#selectordef-before">::before</a>
     <li><a href="https://drafts.csswg.org/css-pseudo-4/#selectordef-first-letter">::first-letter</a>
     <li><a href="https://drafts.csswg.org/css-pseudo-4/#selectordef-marker">::marker</a>
     <li><a href="https://drafts.csswg.org/css-pseudo-4/#first-formatted-line">first formatted line</a>
    </ul>
   <li>
    <a data-link-type="biblio">[css-values-3]</a> defines the following terms:
    <ul>
     <li><a href="https://drafts.csswg.org/css-values-4/#comb-all">&amp;&amp;</a>
     <li><a href="https://drafts.csswg.org/css-values-4/#mult-opt">?</a>
     <li><a href="https://drafts.csswg.org/css-values-4/#comb-one">|</a>
     <li><a href="https://drafts.csswg.org/css-values-4/#comb-any">||</a>
    </ul>
   <li>
    <a data-link-type="biblio">[CSS22]</a> defines the following terms:
    <ul>
     <li><a href="https://drafts.csswg.org/css2/visuren.html#propdef-float">float</a>
     <li><a href="https://drafts.csswg.org/css2/visufx.html#propdef-overflow">overflow</a>
     <li><a href="https://drafts.csswg.org/css2/tables.html#table-box">table box</a>
     <li><a href="https://drafts.csswg.org/css2/tables.html#table-wrapper-box">table wrapper box</a>
    </ul>
   <li>
    <a data-link-type="biblio">[CSS3-BREAK]</a> defines the following terms:
    <ul>
     <li><a href="https://drafts.csswg.org/css-break-3/#box-fragment">box fragment</a>
     <li><a href="https://drafts.csswg.org/css-break-3/#fragment">fragment</a>
     <li><a href="https://drafts.csswg.org/css-break-3/#fragmentation">fragmentation</a>
    </ul>
   <li>
    <a data-link-type="biblio">[CSS3-FLEXBOX]</a> defines the following terms:
    <ul>
     <li><a href="https://drafts.csswg.org/css-flexbox-1/#flex-container">flex container</a>
     <li><a href="https://drafts.csswg.org/css-flexbox-1/#flex-formatting-context">flex formatting context</a>
     <li><a href="https://drafts.csswg.org/css-flexbox-1/#flex-layout">flex layout</a>
    </ul>
   <li>
    <a data-link-type="biblio">[CSS3-GRID-LAYOUT]</a> defines the following terms:
    <ul>
     <li><a href="https://drafts.csswg.org/css-grid-1/#grid-container">grid container</a>
     <li><a href="https://drafts.csswg.org/css-grid-1/#grid-formatting-context">grid formatting context</a>
    </ul>
   <li>
    <a data-link-type="biblio">[CSS3RUBY]</a> defines the following terms:
    <ul>
     <li><a href="https://drafts.csswg.org/css-ruby-1/#ruby-container">ruby container</a>
     <li><a href="https://drafts.csswg.org/css-ruby-1/#ruby-formatting-context">ruby formatting context</a>
    </ul>
   <li>
    <a data-link-type="biblio">[HTML]</a> defines the following terms:
    <ul>
     <li><a href="https://html.spec.whatwg.org/multipage/obsolete.html#the-applet-element">applet</a>
     <li><a href="https://html.spec.whatwg.org/multipage/embedded-content.html#audio">audio</a>
     <li><a href="https://html.spec.whatwg.org/multipage/semantics.html#the-br-element">br</a>
     <li><a href="https://html.spec.whatwg.org/multipage/forms.html#the-button-element">button</a>
     <li><a href="https://html.spec.whatwg.org/multipage/scripting.html#canvas">canvas</a>
     <li><a href="https://html.spec.whatwg.org/multipage/forms.html#the-details-element">details</a>
     <li><a href="https://html.spec.whatwg.org/multipage/embedded-content.html#the-embed-element">embed</a>
     <li><a href="https://html.spec.whatwg.org/multipage/forms.html#the-fieldset-element">fieldset</a>
     <li><a href="https://html.spec.whatwg.org/multipage/obsolete.html#frame">frame</a>
     <li><a href="https://html.spec.whatwg.org/multipage/obsolete.html#frameset">frameset</a>
     <li><a href="https://html.spec.whatwg.org/multipage/embedded-content.html#the-iframe-element">iframe</a>
     <li><a href="https://html.spec.whatwg.org/multipage/embedded-content.html#the-img-element">img</a>
     <li><a href="https://html.spec.whatwg.org/multipage/forms.html#the-input-element">input</a>
     <li><a href="https://html.spec.whatwg.org/multipage/forms.html#the-legend-element">legend</a>
     <li><a href="https://html.spec.whatwg.org/multipage/forms.html#the-meter-element">meter</a>
     <li><a href="https://html.spec.whatwg.org/multipage/embedded-content.html#the-object-element">object</a>
     <li><a href="https://html.spec.whatwg.org/multipage/forms.html#the-progress-element">progress</a>
     <li><a href="https://html.spec.whatwg.org/multipage/rendering.html#rendered-legend">rendered legend</a>
     <li><a href="https://html.spec.whatwg.org/multipage/forms.html#the-select-element">select</a>
     <li><a href="https://html.spec.whatwg.org/multipage/embedded-content.html#attr-img-src">src</a>
     <li><a href="https://html.spec.whatwg.org/multipage/forms.html#the-summary-element">summary</a>
     <li><a href="https://html.spec.whatwg.org/multipage/forms.html#the-textarea-element">textarea</a>
     <li><a href="https://html.spec.whatwg.org/multipage/embedded-content.html#video">video</a>
     <li><a href="https://html.spec.whatwg.org/multipage/semantics.html#the-wbr-element">wbr</a>
    </ul>
   <li>
    <a data-link-type="biblio">[selectors-4]</a> defines the following terms:
    <ul>
     <li><a href="https://drafts.csswg.org/selectors-4/#pseudo-element">pseudo-element</a>
    </ul>
   <li>
    <a data-link-type="biblio">[SVG2]</a> defines the following terms:
    <ul>
     <li><a href="https://svgwg.org/svg2-draft/struct.html#elementdef-g">g</a>
     <li><a href="https://svgwg.org/svg2-draft/struct.html#elementdef-svg">svg</a>
     <li><a href="https://svgwg.org/svg2-draft/text.html#elementdef-tspan">tspan</a>
     <li><a href="https://svgwg.org/svg2-draft/struct.html#elementdef-use">use</a>
    </ul>
  </ul>
  <h2 class="no-num no-ref heading settled" id="references"><span class="content">References</span><a class="self-link" href="#references"></a></h2>
  <h3 class="no-num no-ref heading settled" id="normative"><span class="content">Normative References</span><a class="self-link" href="#normative"></a></h3>
  <dl>
   <dt id="biblio-css-align-3">[CSS-ALIGN-3]
   <dd>Elika Etemad; Tab Atkins Jr.. <a href="https://www.w3.org/TR/css-align-3/">CSS Box Alignment Module Level 3</a>. URL: <a href="https://www.w3.org/TR/css-align-3/">https://www.w3.org/TR/css-align-3/</a>
   <dt id="biblio-css-cascade-4">[CSS-CASCADE-4]
   <dd>Elika Etemad; Tab Atkins Jr.. <a href="https://www.w3.org/TR/css-cascade-4/">CSS Cascading and Inheritance Level 4</a>. URL: <a href="https://www.w3.org/TR/css-cascade-4/">https://www.w3.org/TR/css-cascade-4/</a>
   <dt id="biblio-css-inline-3">[CSS-INLINE-3]
   <dd>Dave Cramer; Elika Etemad; Steve Zilles. <a href="https://www.w3.org/TR/css-inline-3/">CSS Inline Layout Module Level 3</a>. URL: <a href="https://www.w3.org/TR/css-inline-3/">https://www.w3.org/TR/css-inline-3/</a>
   <dt id="biblio-css-lists-3">[CSS-LISTS-3]
   <dd>Tab Atkins Jr.. <a href="https://www.w3.org/TR/css-lists-3/">CSS Lists and Counters Module Level 3</a>. URL: <a href="https://www.w3.org/TR/css-lists-3/">https://www.w3.org/TR/css-lists-3/</a>
   <dt id="biblio-css-position-3">[CSS-POSITION-3]
   <dd>Rossen Atanassov; Arron Eicholz. <a href="https://www.w3.org/TR/css-position-3/">CSS Positioned Layout Module Level 3</a>. URL: <a href="https://www.w3.org/TR/css-position-3/">https://www.w3.org/TR/css-position-3/</a>
   <dt id="biblio-css-pseudo-4">[CSS-PSEUDO-4]
   <dd>Daniel Glazman; Elika Etemad; Alan Stearns. <a href="https://www.w3.org/TR/css-pseudo-4/">CSS Pseudo-Elements Module Level 4</a>. URL: <a href="https://www.w3.org/TR/css-pseudo-4/">https://www.w3.org/TR/css-pseudo-4/</a>
   <dt id="biblio-css-values-3">[CSS-VALUES-3]
   <dd>Tab Atkins Jr.; Elika Etemad. <a href="https://www.w3.org/TR/css-values-3/">CSS Values and Units Module Level 3</a>. URL: <a href="https://www.w3.org/TR/css-values-3/">https://www.w3.org/TR/css-values-3/</a>
   <dt id="biblio-css2">[CSS2]
   <dd>Bert Bos; et al. <a href="https://www.w3.org/TR/CSS2">Cascading Style Sheets Level 2 Revision 1 (CSS 2.1) Specification</a>. 7 June 2011. REC. URL: <a href="https://www.w3.org/TR/CSS2">https://www.w3.org/TR/CSS2</a>
   <dt id="biblio-css22">[CSS22]
   <dd>Bert Bos. <a href="https://www.w3.org/TR/CSS22/">Cascading Style Sheets Level 2 Revision 2 (CSS 2.2) Specification</a>. URL: <a href="https://www.w3.org/TR/CSS22/">https://www.w3.org/TR/CSS22/</a>
   <dt id="biblio-css3-break">[CSS3-BREAK]
   <dd>Rossen Atanassov; Elika Etemad. <a href="https://www.w3.org/TR/css-break-3/">CSS Fragmentation Module Level 3</a>. URL: <a href="https://www.w3.org/TR/css-break-3/">https://www.w3.org/TR/css-break-3/</a>
   <dt id="biblio-css3-cascade">[CSS3-CASCADE]
   <dd>Elika Etemad; Tab Atkins Jr.. <a href="https://www.w3.org/TR/css-cascade-3/">CSS Cascading and Inheritance Level 3</a>. URL: <a href="https://www.w3.org/TR/css-cascade-3/">https://www.w3.org/TR/css-cascade-3/</a>
   <dt id="biblio-css3-flexbox">[CSS3-FLEXBOX]
   <dd>Tab Atkins Jr.; Elika Etemad; Rossen Atanassov. <a href="https://www.w3.org/TR/css-flexbox-1/">CSS Flexible Box Layout Module Level 1</a>. URL: <a href="https://www.w3.org/TR/css-flexbox-1/">https://www.w3.org/TR/css-flexbox-1/</a>
   <dt id="biblio-css3-grid-layout">[CSS3-GRID-LAYOUT]
   <dd>Tab Atkins Jr.; Elika Etemad; Rossen Atanassov. <a href="https://www.w3.org/TR/css-grid-1/">CSS Grid Layout Module Level 1</a>. URL: <a href="https://www.w3.org/TR/css-grid-1/">https://www.w3.org/TR/css-grid-1/</a>
   <dt id="biblio-css3-speech">[CSS3-SPEECH]
   <dd>Daniel Weck. <a href="https://www.w3.org/TR/css3-speech/">CSS Speech Module</a>. 20 March 2012. CR. URL: <a href="https://www.w3.org/TR/css3-speech/">https://www.w3.org/TR/css3-speech/</a>
   <dt id="biblio-css3page">[CSS3PAGE]
   <dd>Melinda Grant; et al. <a href="https://www.w3.org/TR/css3-page/">CSS Paged Media Module Level 3</a>. 14 March 2013. WD. URL: <a href="https://www.w3.org/TR/css3-page/">https://www.w3.org/TR/css3-page/</a>
   <dt id="biblio-css3ruby">[CSS3RUBY]
   <dd>Elika Etemad; Koji Ishii. <a href="https://www.w3.org/TR/css-ruby-1/">CSS Ruby Layout Module Level 1</a>. URL: <a href="https://www.w3.org/TR/css-ruby-1/">https://www.w3.org/TR/css-ruby-1/</a>
   <dt id="biblio-html">[HTML]
   <dd>Anne van Kesteren; et al. <a href="https://html.spec.whatwg.org/multipage/">HTML Standard</a>. Living Standard. URL: <a href="https://html.spec.whatwg.org/multipage/">https://html.spec.whatwg.org/multipage/</a>
   <dt id="biblio-rfc2119">[RFC2119]
   <dd>S. Bradner. <a href="https://tools.ietf.org/html/rfc2119">Key words for use in RFCs to Indicate Requirement Levels</a>. March 1997. Best Current Practice. URL: <a href="https://tools.ietf.org/html/rfc2119">https://tools.ietf.org/html/rfc2119</a>
   <dt id="biblio-selectors-4">[SELECTORS-4]
   <dd>Selectors Level 4 URL: <a href="https://www.w3.org/TR/selectors4/">https://www.w3.org/TR/selectors4/</a>
   <dt id="biblio-svg2">[SVG2]
   <dd>Nikos Andronikos; et al. <a href="https://www.w3.org/TR/SVG2/">Scalable Vector Graphics (SVG) 2</a>. URL: <a href="https://www.w3.org/TR/SVG2/">https://www.w3.org/TR/SVG2/</a>
  </dl>
  <h3 class="no-num no-ref heading settled" id="informative"><span class="content">Informative References</span><a class="self-link" href="#informative"></a></h3>
  <dl>
   <dt id="biblio-css-contain-1">[CSS-CONTAIN-1]
   <dd>Florian Rivoal. <a href="https://www.w3.org/TR/css-contain-1/">CSS Containment Module Level 1</a>. URL: <a href="https://www.w3.org/TR/css-contain-1/">https://www.w3.org/TR/css-contain-1/</a>
   <dt id="biblio-css3-exclusions">[CSS3-EXCLUSIONS]
   <dd>Rossen Atanassov; Vincent Hardy; Alan Stearns. <a href="https://www.w3.org/TR/css3-exclusions/">CSS Exclusions Module Level 1</a>. URL: <a href="https://www.w3.org/TR/css3-exclusions/">https://www.w3.org/TR/css3-exclusions/</a>
   <dt id="biblio-css3-multicol">[CSS3-MULTICOL]
   <dd>Håkon Wium Lie. <a href="https://www.w3.org/TR/css3-multicol">CSS Multi-column Layout Module</a>. 12 April 2011. CR. URL: <a href="https://www.w3.org/TR/css3-multicol">https://www.w3.org/TR/css3-multicol</a>
   <dt id="biblio-cssom">[CSSOM]
   <dd>Simon Pieters; Glenn Adams. <a href="https://www.w3.org/TR/cssom-1/">CSS Object Model (CSSOM)</a>. URL: <a href="https://www.w3.org/TR/cssom-1/">https://www.w3.org/TR/cssom-1/</a>
  </dl>
  <h2 class="no-num no-ref heading settled" id="property-index"><span class="content">Property Index</span><a class="self-link" href="#property-index"></a></h2>
  <div class="big-element-wrapper">
   <table class="index">
    <thead>
     <tr>
      <th scope="col">Name
      <th scope="col">Value
      <th scope="col">Initial
      <th scope="col">Applies to
      <th scope="col">Inh.
      <th scope="col">%ages
      <th scope="col">Media
      <th scope="col">Ani­mat­able
      <th scope="col">Canonical order
      <th scope="col">Com­puted value
    <tbody>
     <tr>
      <th scope="row"><a class="css" data-link-type="property" href="#propdef-display">display</a>
      <td>&lt;display-normal> | &lt;display-listitem> | &lt;display-internal> | &lt;display-box> | &lt;display-legacy>
      <td>inline
      <td>all elements
      <td>no
      <td>n/a
      <td>all
      <td>no
      <td>per grammar
      <td>see prose
   </table>
  </div>
  <h2 class="no-num no-ref heading settled" id="issues-index"><span class="content">Issues Index</span><a class="self-link" href="#issues-index"></a></h2>
  <div style="counter-reset:issue">
   <div class="issue"> How should an element with a <a data-link-type="dfn" href="#layout-internal">layout-internal</a> <a data-link-type="dfn" href="#inner-display-type">inner display type</a> behave when <a data-link-type="dfn" href="#become-a-formatting-context">becoming a formatting context</a>?<a href="#issue-edbd7787"> ↵ </a></div>
   <div class="issue"> Should the <a class="css" data-link-type="maybe" href="#valdef-display-flow-root">flow-root</a> keyword be allowed in <a class="production css" data-link-type="type" href="#typedef-display-internal" title="Expands to: table-row-group | ruby-base-container | table-header-group | table-footer-group | table-column | ruby-text-container | ruby-base | ruby-text | table-row | table-caption | table-cell | table-column-group">&lt;display-internal></a>?
	It might be useful in case the element is <a data-link-type="dfn" href="#blockify">blockified</a>.<a href="#issue-f47d65c8"> ↵ </a></div>
   <div class="issue"> Should conversion of layout-internal display types also happen for inlinification?
	If it does, should it change to <a class="css" data-link-type="maybe" href="#valdef-display-auto">auto</a> or <a class="css" data-link-type="maybe" href="#valdef-display-block">block</a>?
	If it doesn’t, then anonymous-box fixup will handle things.<a href="#issue-43ae6483"> ↵ </a></div>
  </div>
  <aside class="dfn-panel" data-for="element">
   <b><a href="#element">#element</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-element-1">1. 
Introduction</a> <a href="#ref-for-element-2">(2)</a> <a href="#ref-for-element-3">(3)</a> <a href="#ref-for-element-4">(4)</a>
    <li><a href="#ref-for-element-5">2.6. 
Box Generation: the none and contents keywords</a>
    <li><a href="#ref-for-element-6"> Appendix A: Glossary</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="box-tree">
   <b><a href="#box-tree">#box-tree</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-box-tree-1">1. 
Introduction</a> <a href="#ref-for-box-tree-2">(2)</a> <a href="#ref-for-box-tree-3">(3)</a> <a href="#ref-for-box-tree-4">(4)</a>
    <li><a href="#ref-for-box-tree-5">2. 
Box Layout Modes: the display property</a> <a href="#ref-for-box-tree-6">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="box">
   <b><a href="#box">#box</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-box-1">1. 
Introduction</a> <a href="#ref-for-box-2">(2)</a> <a href="#ref-for-box-3">(3)</a> <a href="#ref-for-box-4">(4)</a> <a href="#ref-for-box-5">(5)</a> <a href="#ref-for-box-6">(6)</a>
    <li><a href="#ref-for-box-7"> Appendix A: Glossary</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="anonymous">
   <b><a href="#anonymous">#anonymous</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-anonymous-1">1. 
Introduction</a> <a href="#ref-for-anonymous-2">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="propdef-display">
   <b><a href="#propdef-display">#propdef-display</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-propdef-display-1">1. 
Introduction</a> <a href="#ref-for-propdef-display-2">(2)</a> <a href="#ref-for-propdef-display-3">(3)</a> <a href="#ref-for-propdef-display-4">(4)</a> <a href="#ref-for-propdef-display-5">(5)</a> <a href="#ref-for-propdef-display-6">(6)</a>
    <li><a href="#ref-for-propdef-display-7">1.1. 
Module interactions</a>
    <li><a href="#ref-for-propdef-display-8">2. 
Box Layout Modes: the display property</a> <a href="#ref-for-propdef-display-9">(2)</a> <a href="#ref-for-propdef-display-10">(3)</a> <a href="#ref-for-propdef-display-11">(4)</a> <a href="#ref-for-propdef-display-12">(5)</a> <a href="#ref-for-propdef-display-13">(6)</a> <a href="#ref-for-propdef-display-14">(7)</a> <a href="#ref-for-propdef-display-15">(8)</a>
    <li><a href="#ref-for-propdef-display-16">2.2. 
Inner Display Layout Models: the auto, block, table, flex, grid, and ruby keywords</a>
    <li><a href="#ref-for-propdef-display-17">2.3. 
Becoming a formatting context: the flow-root keyword</a>
    <li><a href="#ref-for-propdef-display-18">2.5. 
Layout-Internal Display Types: the table-* and ruby-* keywords</a> <a href="#ref-for-propdef-display-19">(2)</a>
    <li><a href="#ref-for-propdef-display-20">2.6. 
Box Generation: the none and contents keywords</a> <a href="#ref-for-propdef-display-21">(2)</a> <a href="#ref-for-propdef-display-22">(3)</a> <a href="#ref-for-propdef-display-23">(4)</a>
    <li><a href="#ref-for-propdef-display-24">2.7. 
Precomposed Inline-level Display Values</a>
    <li><a href="#ref-for-propdef-display-25">2.8. 
Automatic Box Type Transformations</a> <a href="#ref-for-propdef-display-26">(2)</a>
    <li><a href="#ref-for-propdef-display-27"> Appendix B: Effects of display: contents on Unusual Elements</a> <a href="#ref-for-propdef-display-28">(2)</a>
    <li><a href="#ref-for-propdef-display-29">HTML Elements</a> <a href="#ref-for-propdef-display-30">(2)</a> <a href="#ref-for-propdef-display-31">(3)</a> <a href="#ref-for-propdef-display-32">(4)</a> <a href="#ref-for-propdef-display-33">(5)</a> <a href="#ref-for-propdef-display-34">(6)</a>
    <li><a href="#ref-for-propdef-display-35">SVG Elements</a> <a href="#ref-for-propdef-display-36">(2)</a> <a href="#ref-for-propdef-display-37">(3)</a> <a href="#ref-for-propdef-display-38">(4)</a> <a href="#ref-for-propdef-display-39">(5)</a>
    <li><a href="#ref-for-propdef-display-40"> Changes</a> <a href="#ref-for-propdef-display-41">(2)</a> <a href="#ref-for-propdef-display-42">(3)</a> <a href="#ref-for-propdef-display-43">(4)</a> <a href="#ref-for-propdef-display-44">(5)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="display-type">
   <b><a href="#display-type">#display-type</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-display-type-1">2. 
Box Layout Modes: the display property</a>
    <li><a href="#ref-for-display-type-2">2.3. 
Becoming a formatting context: the flow-root keyword</a>
    <li><a href="#ref-for-display-type-3">2.4. 
Generating Marker Boxes: the list-item keyword</a>
    <li><a href="#ref-for-display-type-4">2.8. 
Automatic Box Type Transformations</a>
    <li><a href="#ref-for-display-type-5"> Changes</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="inner-display-type">
   <b><a href="#inner-display-type">#inner-display-type</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-inner-display-type-1">2. 
Box Layout Modes: the display property</a> <a href="#ref-for-inner-display-type-2">(2)</a> <a href="#ref-for-inner-display-type-3">(3)</a> <a href="#ref-for-inner-display-type-4">(4)</a> <a href="#ref-for-inner-display-type-5">(5)</a> <a href="#ref-for-inner-display-type-6">(6)</a>
    <li><a href="#ref-for-inner-display-type-7">2.1. 
Outer Display Roles for Flow Layout: the block-level, inline-level, and run-in keywords</a> <a href="#ref-for-inner-display-type-8">(2)</a>
    <li><a href="#ref-for-inner-display-type-9">2.2. 
Inner Display Layout Models: the auto, block, table, flex, grid, and ruby keywords</a>
    <li><a href="#ref-for-inner-display-type-10">2.3. 
Becoming a formatting context: the flow-root keyword</a> <a href="#ref-for-inner-display-type-11">(2)</a> <a href="#ref-for-inner-display-type-12">(3)</a>
    <li><a href="#ref-for-inner-display-type-13">2.5. 
Layout-Internal Display Types: the table-* and ruby-* keywords</a> <a href="#ref-for-inner-display-type-14">(2)</a> <a href="#ref-for-inner-display-type-15">(3)</a> <a href="#ref-for-inner-display-type-16">(4)</a>
    <li><a href="#ref-for-inner-display-type-17">2.6. 
Box Generation: the none and contents keywords</a>
    <li><a href="#ref-for-inner-display-type-18">2.8. 
Automatic Box Type Transformations</a>
    <li><a href="#ref-for-inner-display-type-19">3. 
Run-In Layout</a>
    <li><a href="#ref-for-inner-display-type-20"> Appendix A: Glossary</a> <a href="#ref-for-inner-display-type-21">(2)</a> <a href="#ref-for-inner-display-type-22">(3)</a>
    <li><a href="#ref-for-inner-display-type-23"> Changes</a> <a href="#ref-for-inner-display-type-24">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="outer-display-type">
   <b><a href="#outer-display-type">#outer-display-type</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-outer-display-type-1">2. 
Box Layout Modes: the display property</a> <a href="#ref-for-outer-display-type-2">(2)</a> <a href="#ref-for-outer-display-type-3">(3)</a> <a href="#ref-for-outer-display-type-4">(4)</a>
    <li><a href="#ref-for-outer-display-type-5">2.1. 
Outer Display Roles for Flow Layout: the block-level, inline-level, and run-in keywords</a> <a href="#ref-for-outer-display-type-6">(2)</a>
    <li><a href="#ref-for-outer-display-type-7">2.2. 
Inner Display Layout Models: the auto, block, table, flex, grid, and ruby keywords</a> <a href="#ref-for-outer-display-type-8">(2)</a> <a href="#ref-for-outer-display-type-9">(3)</a>
    <li><a href="#ref-for-outer-display-type-10">2.3. 
Becoming a formatting context: the flow-root keyword</a>
    <li><a href="#ref-for-outer-display-type-11">2.4. 
Generating Marker Boxes: the list-item keyword</a>
    <li><a href="#ref-for-outer-display-type-12">2.5. 
Layout-Internal Display Types: the table-* and ruby-* keywords</a>
    <li><a href="#ref-for-outer-display-type-13">2.6. 
Box Generation: the none and contents keywords</a>
    <li><a href="#ref-for-outer-display-type-14">2.8. 
Automatic Box Type Transformations</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="typedef-display-outside">
   <b><a href="#typedef-display-outside">#typedef-display-outside</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-typedef-display-outside-1">2. 
Box Layout Modes: the display property</a> <a href="#ref-for-typedef-display-outside-2">(2)</a>
    <li><a href="#ref-for-typedef-display-outside-3">2.1. 
Outer Display Roles for Flow Layout: the block-level, inline-level, and run-in keywords</a> <a href="#ref-for-typedef-display-outside-4">(2)</a>
    <li><a href="#ref-for-typedef-display-outside-5">2.2. 
Inner Display Layout Models: the auto, block, table, flex, grid, and ruby keywords</a>
    <li><a href="#ref-for-typedef-display-outside-6">2.3. 
Becoming a formatting context: the flow-root keyword</a>
    <li><a href="#ref-for-typedef-display-outside-7">2.4. 
Generating Marker Boxes: the list-item keyword</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="typedef-display-inside">
   <b><a href="#typedef-display-inside">#typedef-display-inside</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-typedef-display-inside-1">2. 
Box Layout Modes: the display property</a>
    <li><a href="#ref-for-typedef-display-inside-2">2.1. 
Outer Display Roles for Flow Layout: the block-level, inline-level, and run-in keywords</a>
    <li><a href="#ref-for-typedef-display-inside-3">2.2. 
Inner Display Layout Models: the auto, block, table, flex, grid, and ruby keywords</a> <a href="#ref-for-typedef-display-inside-4">(2)</a>
    <li><a href="#ref-for-typedef-display-inside-5">2.3. 
Becoming a formatting context: the flow-root keyword</a>
    <li><a href="#ref-for-typedef-display-inside-6">2.4. 
Generating Marker Boxes: the list-item keyword</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="typedef-display-normal">
   <b><a href="#typedef-display-normal">#typedef-display-normal</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-typedef-display-normal-1">2. 
Box Layout Modes: the display property</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="typedef-display-listitem">
   <b><a href="#typedef-display-listitem">#typedef-display-listitem</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-typedef-display-listitem-1">2. 
Box Layout Modes: the display property</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="typedef-display-internal">
   <b><a href="#typedef-display-internal">#typedef-display-internal</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-typedef-display-internal-1">2. 
Box Layout Modes: the display property</a> <a href="#ref-for-typedef-display-internal-2">(2)</a>
    <li><a href="#ref-for-typedef-display-internal-3">2.3. 
Becoming a formatting context: the flow-root keyword</a>
    <li><a href="#ref-for-typedef-display-internal-4">2.5. 
Layout-Internal Display Types: the table-* and ruby-* keywords</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="typedef-display-box">
   <b><a href="#typedef-display-box">#typedef-display-box</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-typedef-display-box-1">2. 
Box Layout Modes: the display property</a>
    <li><a href="#ref-for-typedef-display-box-2">2.6. 
Box Generation: the none and contents keywords</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="typedef-display-legacy">
   <b><a href="#typedef-display-legacy">#typedef-display-legacy</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-typedef-display-legacy-1">2. 
Box Layout Modes: the display property</a>
    <li><a href="#ref-for-typedef-display-legacy-2">2.7. 
Precomposed Inline-level Display Values</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="valdef-display-block-level">
   <b><a href="#valdef-display-block-level">#valdef-display-block-level</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-valdef-display-block-level-1">2. 
Box Layout Modes: the display property</a> <a href="#ref-for-valdef-display-block-level-2">(2)</a>
    <li><a href="#ref-for-valdef-display-block-level-3">2.1. 
Outer Display Roles for Flow Layout: the block-level, inline-level, and run-in keywords</a>
    <li><a href="#ref-for-valdef-display-block-level-4">2.2. 
Inner Display Layout Models: the auto, block, table, flex, grid, and ruby keywords</a> <a href="#ref-for-valdef-display-block-level-5">(2)</a>
    <li><a href="#ref-for-valdef-display-block-level-6">2.3. 
Becoming a formatting context: the flow-root keyword</a>
    <li><a href="#ref-for-valdef-display-block-level-7">2.4. 
Generating Marker Boxes: the list-item keyword</a>
    <li><a href="#ref-for-valdef-display-block-level-8">2.8. 
Automatic Box Type Transformations</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="block-level-box">
   <b><a href="#block-level-box">#block-level-box</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-block-level-box-1"> Appendix A: Glossary</a> <a href="#ref-for-block-level-box-2">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="valdef-display-inline-level">
   <b><a href="#valdef-display-inline-level">#valdef-display-inline-level</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-valdef-display-inline-level-1">2. 
Box Layout Modes: the display property</a> <a href="#ref-for-valdef-display-inline-level-2">(2)</a>
    <li><a href="#ref-for-valdef-display-inline-level-3">2.1. 
Outer Display Roles for Flow Layout: the block-level, inline-level, and run-in keywords</a>
    <li><a href="#ref-for-valdef-display-inline-level-4">2.2. 
Inner Display Layout Models: the auto, block, table, flex, grid, and ruby keywords</a>
    <li><a href="#ref-for-valdef-display-inline-level-5">2.7. 
Precomposed Inline-level Display Values</a>
    <li><a href="#ref-for-valdef-display-inline-level-6">2.8. 
Automatic Box Type Transformations</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="inline-level-box">
   <b><a href="#inline-level-box">#inline-level-box</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-inline-level-box-1">3. 
Run-In Layout</a>
    <li><a href="#ref-for-inline-level-box-2"> Appendix A: Glossary</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="valdef-display-run-in">
   <b><a href="#valdef-display-run-in">#valdef-display-run-in</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-valdef-display-run-in-1">2. 
Box Layout Modes: the display property</a>
    <li><a href="#ref-for-valdef-display-run-in-2">2.1. 
Outer Display Roles for Flow Layout: the block-level, inline-level, and run-in keywords</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="valdef-display-auto">
   <b><a href="#valdef-display-auto">#valdef-display-auto</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-valdef-display-auto-1">2. 
Box Layout Modes: the display property</a> <a href="#ref-for-valdef-display-auto-2">(2)</a> <a href="#ref-for-valdef-display-auto-3">(3)</a> <a href="#ref-for-valdef-display-auto-4">(4)</a>
    <li><a href="#ref-for-valdef-display-auto-5">2.1. 
Outer Display Roles for Flow Layout: the block-level, inline-level, and run-in keywords</a>
    <li><a href="#ref-for-valdef-display-auto-6">2.2. 
Inner Display Layout Models: the auto, block, table, flex, grid, and ruby keywords</a> <a href="#ref-for-valdef-display-auto-7">(2)</a> <a href="#ref-for-valdef-display-auto-8">(3)</a> <a href="#ref-for-valdef-display-auto-9">(4)</a>
    <li><a href="#ref-for-valdef-display-auto-10">2.3. 
Becoming a formatting context: the flow-root keyword</a>
    <li><a href="#ref-for-valdef-display-auto-11">2.5. 
Layout-Internal Display Types: the table-* and ruby-* keywords</a>
    <li><a href="#ref-for-valdef-display-auto-12">2.8. 
Automatic Box Type Transformations</a> <a href="#ref-for-valdef-display-auto-13">(2)</a>
    <li><a href="#ref-for-valdef-display-auto-14">3. 
Run-In Layout</a>
    <li><a href="#ref-for-valdef-display-auto-15"> Appendix A: Glossary</a> <a href="#ref-for-valdef-display-auto-16">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="valdef-display-block">
   <b><a href="#valdef-display-block">#valdef-display-block</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-valdef-display-block-1">2. 
Box Layout Modes: the display property</a> <a href="#ref-for-valdef-display-block-2">(2)</a>
    <li><a href="#ref-for-valdef-display-block-3">2.2. 
Inner Display Layout Models: the auto, block, table, flex, grid, and ruby keywords</a> <a href="#ref-for-valdef-display-block-4">(2)</a>
    <li><a href="#ref-for-valdef-display-block-5">2.3. 
Becoming a formatting context: the flow-root keyword</a>
    <li><a href="#ref-for-valdef-display-block-6">2.5. 
Layout-Internal Display Types: the table-* and ruby-* keywords</a> <a href="#ref-for-valdef-display-block-7">(2)</a>
    <li><a href="#ref-for-valdef-display-block-8">2.8. 
Automatic Box Type Transformations</a> <a href="#ref-for-valdef-display-block-9">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="flow-layout">
   <b><a href="#flow-layout">#flow-layout</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-flow-layout-1">2.1. 
Outer Display Roles for Flow Layout: the block-level, inline-level, and run-in keywords</a> <a href="#ref-for-flow-layout-2">(2)</a> <a href="#ref-for-flow-layout-3">(3)</a> <a href="#ref-for-flow-layout-4">(4)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="valdef-display-table">
   <b><a href="#valdef-display-table">#valdef-display-table</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-valdef-display-table-1">2. 
Box Layout Modes: the display property</a>
    <li><a href="#ref-for-valdef-display-table-2">2.1. 
Outer Display Roles for Flow Layout: the block-level, inline-level, and run-in keywords</a>
    <li><a href="#ref-for-valdef-display-table-3">2.2. 
Inner Display Layout Models: the auto, block, table, flex, grid, and ruby keywords</a>
    <li><a href="#ref-for-valdef-display-table-4">2.3. 
Becoming a formatting context: the flow-root keyword</a>
    <li><a href="#ref-for-valdef-display-table-5">2.5. 
Layout-Internal Display Types: the table-* and ruby-* keywords</a>
    <li><a href="#ref-for-valdef-display-table-6"> Appendix A: Glossary</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="valdef-display-flex">
   <b><a href="#valdef-display-flex">#valdef-display-flex</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-valdef-display-flex-1">2. 
Box Layout Modes: the display property</a>
    <li><a href="#ref-for-valdef-display-flex-2">2.2. 
Inner Display Layout Models: the auto, block, table, flex, grid, and ruby keywords</a>
    <li><a href="#ref-for-valdef-display-flex-3">2.3. 
Becoming a formatting context: the flow-root keyword</a>
    <li><a href="#ref-for-valdef-display-flex-4">2.8. 
Automatic Box Type Transformations</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="valdef-display-grid">
   <b><a href="#valdef-display-grid">#valdef-display-grid</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-valdef-display-grid-1">2. 
Box Layout Modes: the display property</a>
    <li><a href="#ref-for-valdef-display-grid-2">2.2. 
Inner Display Layout Models: the auto, block, table, flex, grid, and ruby keywords</a>
    <li><a href="#ref-for-valdef-display-grid-3">2.3. 
Becoming a formatting context: the flow-root keyword</a>
    <li><a href="#ref-for-valdef-display-grid-4">2.8. 
Automatic Box Type Transformations</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="valdef-display-ruby">
   <b><a href="#valdef-display-ruby">#valdef-display-ruby</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-valdef-display-ruby-1">2. 
Box Layout Modes: the display property</a> <a href="#ref-for-valdef-display-ruby-2">(2)</a> <a href="#ref-for-valdef-display-ruby-3">(3)</a> <a href="#ref-for-valdef-display-ruby-4">(4)</a>
    <li><a href="#ref-for-valdef-display-ruby-5">2.1. 
Outer Display Roles for Flow Layout: the block-level, inline-level, and run-in keywords</a>
    <li><a href="#ref-for-valdef-display-ruby-6">2.2. 
Inner Display Layout Models: the auto, block, table, flex, grid, and ruby keywords</a> <a href="#ref-for-valdef-display-ruby-7">(2)</a>
    <li><a href="#ref-for-valdef-display-ruby-8">2.3. 
Becoming a formatting context: the flow-root keyword</a>
    <li><a href="#ref-for-valdef-display-ruby-9">2.5. 
Layout-Internal Display Types: the table-* and ruby-* keywords</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="valdef-display-flow-root">
   <b><a href="#valdef-display-flow-root">#valdef-display-flow-root</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-valdef-display-flow-root-1">2. 
Box Layout Modes: the display property</a> <a href="#ref-for-valdef-display-flow-root-2">(2)</a> <a href="#ref-for-valdef-display-flow-root-3">(3)</a> <a href="#ref-for-valdef-display-flow-root-4">(4)</a>
    <li><a href="#ref-for-valdef-display-flow-root-5">2.3. 
Becoming a formatting context: the flow-root keyword</a> <a href="#ref-for-valdef-display-flow-root-6">(2)</a> <a href="#ref-for-valdef-display-flow-root-7">(3)</a> <a href="#ref-for-valdef-display-flow-root-8">(4)</a> <a href="#ref-for-valdef-display-flow-root-9">(5)</a> <a href="#ref-for-valdef-display-flow-root-10">(6)</a> <a href="#ref-for-valdef-display-flow-root-11">(7)</a>
    <li><a href="#ref-for-valdef-display-flow-root-12"> Changes</a> <a href="#ref-for-valdef-display-flow-root-13">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="become-a-formatting-context">
   <b><a href="#become-a-formatting-context">#become-a-formatting-context</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-become-a-formatting-context-1">2. 
Box Layout Modes: the display property</a>
    <li><a href="#ref-for-become-a-formatting-context-2">2.3. 
Becoming a formatting context: the flow-root keyword</a> <a href="#ref-for-become-a-formatting-context-3">(2)</a>
    <li><a href="#ref-for-become-a-formatting-context-4"> Changes</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="valdef-display-list-item">
   <b><a href="#valdef-display-list-item">#valdef-display-list-item</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-valdef-display-list-item-1">2. 
Box Layout Modes: the display property</a> <a href="#ref-for-valdef-display-list-item-2">(2)</a> <a href="#ref-for-valdef-display-list-item-3">(3)</a> <a href="#ref-for-valdef-display-list-item-4">(4)</a>
    <li><a href="#ref-for-valdef-display-list-item-5">2.4. 
Generating Marker Boxes: the list-item keyword</a> <a href="#ref-for-valdef-display-list-item-6">(2)</a>
    <li><a href="#ref-for-valdef-display-list-item-7"> Appendix A: Glossary</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="layout-internal">
   <b><a href="#layout-internal">#layout-internal</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-layout-internal-1">2. 
Box Layout Modes: the display property</a>
    <li><a href="#ref-for-layout-internal-2">2.3. 
Becoming a formatting context: the flow-root keyword</a>
    <li><a href="#ref-for-layout-internal-3">2.8. 
Automatic Box Type Transformations</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="valdef-display-table-row">
   <b><a href="#valdef-display-table-row">#valdef-display-table-row</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-valdef-display-table-row-1">2.5. 
Layout-Internal Display Types: the table-* and ruby-* keywords</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="valdef-display-table-cell">
   <b><a href="#valdef-display-table-cell">#valdef-display-table-cell</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-valdef-display-table-cell-1">2.5. 
Layout-Internal Display Types: the table-* and ruby-* keywords</a> <a href="#ref-for-valdef-display-table-cell-2">(2)</a>
    <li><a href="#ref-for-valdef-display-table-cell-3"> Changes</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="internal-table-element">
   <b><a href="#internal-table-element">#internal-table-element</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-internal-table-element-1">2.5. 
Layout-Internal Display Types: the table-* and ruby-* keywords</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="valdef-display-table-caption">
   <b><a href="#valdef-display-table-caption">#valdef-display-table-caption</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-valdef-display-table-caption-1">2.5. 
Layout-Internal Display Types: the table-* and ruby-* keywords</a>
    <li><a href="#ref-for-valdef-display-table-caption-2"> Changes</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="valdef-display-ruby-base">
   <b><a href="#valdef-display-ruby-base">#valdef-display-ruby-base</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-valdef-display-ruby-base-1">2.5. 
Layout-Internal Display Types: the table-* and ruby-* keywords</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="valdef-display-ruby-text">
   <b><a href="#valdef-display-ruby-text">#valdef-display-ruby-text</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-valdef-display-ruby-text-1">2.5. 
Layout-Internal Display Types: the table-* and ruby-* keywords</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="valdef-display-contents">
   <b><a href="#valdef-display-contents">#valdef-display-contents</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-valdef-display-contents-1">1. 
Introduction</a>
    <li><a href="#ref-for-valdef-display-contents-2">2. 
Box Layout Modes: the display property</a> <a href="#ref-for-valdef-display-contents-3">(2)</a>
    <li><a href="#ref-for-valdef-display-contents-4">2.6. 
Box Generation: the none and contents keywords</a>
    <li><a href="#ref-for-valdef-display-contents-5">2.8. 
Automatic Box Type Transformations</a> <a href="#ref-for-valdef-display-contents-6">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="valdef-display-none">
   <b><a href="#valdef-display-none">#valdef-display-none</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-valdef-display-none-1">1. 
Introduction</a>
    <li><a href="#ref-for-valdef-display-none-2">2. 
Box Layout Modes: the display property</a> <a href="#ref-for-valdef-display-none-3">(2)</a> <a href="#ref-for-valdef-display-none-4">(3)</a>
    <li><a href="#ref-for-valdef-display-none-5">2.6. 
Box Generation: the none and contents keywords</a>
    <li><a href="#ref-for-valdef-display-none-6">2.8. 
Automatic Box Type Transformations</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="valdef-display-inline">
   <b><a href="#valdef-display-inline">#valdef-display-inline</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-valdef-display-inline-1">2. 
Box Layout Modes: the display property</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="valdef-display-inline-block">
   <b><a href="#valdef-display-inline-block">#valdef-display-inline-block</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-valdef-display-inline-block-1">2. 
Box Layout Modes: the display property</a>
    <li><a href="#ref-for-valdef-display-inline-block-2">2.3. 
Becoming a formatting context: the flow-root keyword</a>
    <li><a href="#ref-for-valdef-display-inline-block-3"> Appendix A: Glossary</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="valdef-display-inline-table">
   <b><a href="#valdef-display-inline-table">#valdef-display-inline-table</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-valdef-display-inline-table-1">2. 
Box Layout Modes: the display property</a>
    <li><a href="#ref-for-valdef-display-inline-table-2"> Appendix A: Glossary</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="valdef-display-inline-flex">
   <b><a href="#valdef-display-inline-flex">#valdef-display-inline-flex</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-valdef-display-inline-flex-1">2. 
Box Layout Modes: the display property</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="valdef-display-inline-grid">
   <b><a href="#valdef-display-inline-grid">#valdef-display-inline-grid</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-valdef-display-inline-grid-1">2. 
Box Layout Modes: the display property</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="valdef-display-inline-list-item">
   <b><a href="#valdef-display-inline-list-item">#valdef-display-inline-list-item</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-valdef-display-inline-list-item-1">2. 
Box Layout Modes: the display property</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="blockify">
   <b><a href="#blockify">#blockify</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-blockify-1">2. 
Box Layout Modes: the display property</a>
    <li><a href="#ref-for-blockify-2">2.2. 
Inner Display Layout Models: the auto, block, table, flex, grid, and ruby keywords</a>
    <li><a href="#ref-for-blockify-3">2.3. 
Becoming a formatting context: the flow-root keyword</a>
    <li><a href="#ref-for-blockify-4">2.8. 
Automatic Box Type Transformations</a> <a href="#ref-for-blockify-5">(2)</a> <a href="#ref-for-blockify-6">(3)</a> <a href="#ref-for-blockify-7">(4)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="inlinify">
   <b><a href="#inlinify">#inlinify</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-inlinify-1">2. 
Box Layout Modes: the display property</a>
    <li><a href="#ref-for-inlinify-2">2.2. 
Inner Display Layout Models: the auto, block, table, flex, grid, and ruby keywords</a>
    <li><a href="#ref-for-inlinify-3">2.8. 
Automatic Box Type Transformations</a> <a href="#ref-for-inlinify-4">(2)</a> <a href="#ref-for-inlinify-5">(3)</a>
    <li><a href="#ref-for-inlinify-6">3. 
Run-In Layout</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="run-in">
   <b><a href="#run-in">#run-in</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-run-in-1">2. 
Box Layout Modes: the display property</a>
    <li><a href="#ref-for-run-in-2">2.1. 
Outer Display Roles for Flow Layout: the block-level, inline-level, and run-in keywords</a>
    <li><a href="#ref-for-run-in-3">3. 
Run-In Layout</a> <a href="#ref-for-run-in-4">(2)</a> <a href="#ref-for-run-in-5">(3)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="run-in-sequence">
   <b><a href="#run-in-sequence">#run-in-sequence</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-run-in-sequence-1">3. 
Run-In Layout</a> <a href="#ref-for-run-in-sequence-2">(2)</a> <a href="#ref-for-run-in-sequence-3">(3)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="principal-box">
   <b><a href="#principal-box">#principal-box</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-principal-box-1">2.1. 
Outer Display Roles for Flow Layout: the block-level, inline-level, and run-in keywords</a>
    <li><a href="#ref-for-principal-box-2">2.3. 
Becoming a formatting context: the flow-root keyword</a>
    <li><a href="#ref-for-principal-box-3"> Appendix A: Glossary</a> <a href="#ref-for-principal-box-4">(2)</a>
    <li><a href="#ref-for-principal-box-5">HTML Elements</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="inline-level">
   <b><a href="#inline-level">#inline-level</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-inline-level-1">2. 
Box Layout Modes: the display property</a> <a href="#ref-for-inline-level-2">(2)</a> <a href="#ref-for-inline-level-3">(3)</a> <a href="#ref-for-inline-level-4">(4)</a> <a href="#ref-for-inline-level-5">(5)</a>
    <li><a href="#ref-for-inline-level-6"> Appendix A: Glossary</a> <a href="#ref-for-inline-level-7">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="block-level">
   <b><a href="#block-level">#block-level</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-block-level-1">2. 
Box Layout Modes: the display property</a> <a href="#ref-for-block-level-2">(2)</a> <a href="#ref-for-block-level-3">(3)</a> <a href="#ref-for-block-level-4">(4)</a> <a href="#ref-for-block-level-5">(5)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="inline-box">
   <b><a href="#inline-box">#inline-box</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-inline-box-1">2. 
Box Layout Modes: the display property</a> <a href="#ref-for-inline-box-2">(2)</a> <a href="#ref-for-inline-box-3">(3)</a>
    <li><a href="#ref-for-inline-box-4">2.2. 
Inner Display Layout Models: the auto, block, table, flex, grid, and ruby keywords</a>
    <li><a href="#ref-for-inline-box-5"> Appendix A: Glossary</a> <a href="#ref-for-inline-box-6">(2)</a> <a href="#ref-for-inline-box-7">(3)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="block-container">
   <b><a href="#block-container">#block-container</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-block-container-1">2. 
Box Layout Modes: the display property</a> <a href="#ref-for-block-container-2">(2)</a> <a href="#ref-for-block-container-3">(3)</a>
    <li><a href="#ref-for-block-container-4">2.2. 
Inner Display Layout Models: the auto, block, table, flex, grid, and ruby keywords</a>
    <li><a href="#ref-for-block-container-5">2.3. 
Becoming a formatting context: the flow-root keyword</a>
    <li><a href="#ref-for-block-container-6">2.8. 
Automatic Box Type Transformations</a>
    <li><a href="#ref-for-block-container-7"> Appendix A: Glossary</a> <a href="#ref-for-block-container-8">(2)</a> <a href="#ref-for-block-container-9">(3)</a> <a href="#ref-for-block-container-10">(4)</a> <a href="#ref-for-block-container-11">(5)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="block-box">
   <b><a href="#block-box">#block-box</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-block-box-1">2. 
Box Layout Modes: the display property</a> <a href="#ref-for-block-box-2">(2)</a> <a href="#ref-for-block-box-3">(3)</a>
    <li><a href="#ref-for-block-box-4">2.3. 
Becoming a formatting context: the flow-root keyword</a>
    <li><a href="#ref-for-block-box-5">2.5. 
Layout-Internal Display Types: the table-* and ruby-* keywords</a>
    <li><a href="#ref-for-block-box-6"> Appendix A: Glossary</a> <a href="#ref-for-block-box-7">(2)</a> <a href="#ref-for-block-box-8">(3)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="block">
   <b><a href="#block">#block</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-block-1"> Appendix A: Glossary</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="containing-block">
   <b><a href="#containing-block">#containing-block</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-containing-block-1"> Appendix A: Glossary</a> <a href="#ref-for-containing-block-2">(2)</a> <a href="#ref-for-containing-block-3">(3)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="initial-containing-block">
   <b><a href="#initial-containing-block">#initial-containing-block</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-initial-containing-block-1"> Appendix A: Glossary</a> <a href="#ref-for-initial-containing-block-2">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="formatting-context">
   <b><a href="#formatting-context">#formatting-context</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-formatting-context-1">2. 
Box Layout Modes: the display property</a>
    <li><a href="#ref-for-formatting-context-2">2.2. 
Inner Display Layout Models: the auto, block, table, flex, grid, and ruby keywords</a> <a href="#ref-for-formatting-context-3">(2)</a> <a href="#ref-for-formatting-context-4">(3)</a>
    <li><a href="#ref-for-formatting-context-5">2.3. 
Becoming a formatting context: the flow-root keyword</a>
    <li><a href="#ref-for-formatting-context-6"> Appendix A: Glossary</a> <a href="#ref-for-formatting-context-7">(2)</a> <a href="#ref-for-formatting-context-8">(3)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="block-formatting-context">
   <b><a href="#block-formatting-context">#block-formatting-context</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-block-formatting-context-1">2. 
Box Layout Modes: the display property</a>
    <li><a href="#ref-for-block-formatting-context-2">2.2. 
Inner Display Layout Models: the auto, block, table, flex, grid, and ruby keywords</a> <a href="#ref-for-block-formatting-context-3">(2)</a>
    <li><a href="#ref-for-block-formatting-context-4">3. 
Run-In Layout</a>
    <li><a href="#ref-for-block-formatting-context-5"> Appendix A: Glossary</a> <a href="#ref-for-block-formatting-context-6">(2)</a> <a href="#ref-for-block-formatting-context-7">(3)</a> <a href="#ref-for-block-formatting-context-8">(4)</a> <a href="#ref-for-block-formatting-context-9">(5)</a> <a href="#ref-for-block-formatting-context-10">(6)</a> <a href="#ref-for-block-formatting-context-11">(7)</a> <a href="#ref-for-block-formatting-context-12">(8)</a> <a href="#ref-for-block-formatting-context-13">(9)</a> <a href="#ref-for-block-formatting-context-14">(10)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="inline-formatting-context">
   <b><a href="#inline-formatting-context">#inline-formatting-context</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-inline-formatting-context-1"> Appendix A: Glossary</a> <a href="#ref-for-inline-formatting-context-2">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="bfc">
   <b><a href="#bfc">#bfc</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-bfc-1">2. 
Box Layout Modes: the display property</a>
    <li><a href="#ref-for-bfc-2">2.3. 
Becoming a formatting context: the flow-root keyword</a>
    <li><a href="#ref-for-bfc-3"> Changes</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="out-of-flow">
   <b><a href="#out-of-flow">#out-of-flow</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-out-of-flow-1"> Appendix A: Glossary</a> <a href="#ref-for-out-of-flow-2">(2)</a> <a href="#ref-for-out-of-flow-3">(3)</a>
    <li><a href="#ref-for-out-of-flow-4"> Changes</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="in-flow">
   <b><a href="#in-flow">#in-flow</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-in-flow-1"> Appendix A: Glossary</a>
    <li><a href="#ref-for-in-flow-2"> Changes</a>
   </ul>
  </aside>
<script>/* script-dfn-panel */

        document.body.addEventListener("click", function(e) {
            var queryAll = function(sel) { return [].slice.call(document.querySelectorAll(sel)); }
            // Find the dfn element or panel, if any, that was clicked on.
            var el = e.target;
            var target;
            var hitALink = false;
            while(el.parentElement) {
                if(el.tagName == "A") {
                    // Clicking on a link in a <dfn> shouldn't summon the panel
                    hitALink = true;
                }
                if(el.classList.contains("dfn-paneled")) {
                    target = "dfn";
                    break;
                }
                if(el.classList.contains("dfn-panel")) {
                    target = "dfn-panel";
                    break;
                }
                el = el.parentElement;
            }
            if(target != "dfn-panel") {
                // Turn off any currently "on" or "activated" panels.
                queryAll(".dfn-panel.on, .dfn-panel.activated").forEach(function(el){
                    el.classList.remove("on");
                    el.classList.remove("activated");
                });
            }
            if(target == "dfn" && !hitALink) {
                // open the panel
                var dfnPanel = document.querySelector(".dfn-panel[data-for='" + el.id + "']");
                if(dfnPanel) {
                    console.log(dfnPanel);
                    dfnPanel.classList.add("on");
                    var rect = el.getBoundingClientRect();
                    dfnPanel.style.left = window.scrollX + rect.right + 5 + "px";
                    dfnPanel.style.top = window.scrollY + rect.top + "px";
                    var panelRect = dfnPanel.getBoundingClientRect();
                    var panelWidth = panelRect.right - panelRect.left;
                    if(panelRect.right > document.body.scrollWidth && (rect.left - (panelWidth + 5)) > 0) {
                        // Reposition, because the panel is overflowing
                        dfnPanel.style.left = window.scrollX + rect.left - (panelWidth + 5) + "px";
                    }
                } else {
                    console.log("Couldn't find .dfn-panel[data-for='" + el.id + "']");
                }
            } else if(target == "dfn-panel") {
                // Switch it to "activated" state, which pins it.
                el.classList.add("activated");
                el.style.left = null;
                el.style.top = null;
            }

        });
        </script>
